{"version":3,"sources":["../../../../node_modules/%40swc/helpers/cjs/_interop_require_default.cjs","../../../../node_modules/next/src/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.tsx","../../../../node_modules/next/src/shared/lib/encode-uri-path.ts","../../../../node_modules/next/src/shared/lib/deployment-id.ts","../../../../node_modules/next/src/shared/lib/lazy-dynamic/preload-chunks.tsx","../../../../node_modules/next/src/shared/lib/lazy-dynamic/loadable.tsx","../../../../node_modules/next/src/shared/lib/app-dynamic.tsx","../../../../components/SaveToCloudModal.tsx","../../../../node_modules/zustand/esm/vanilla.mjs","../../../../node_modules/zustand/esm/middleware.mjs","../../../../app/app/page.tsx","../../../../node_modules/sonner/dist/index.mjs","../../../../node_modules/zustand/esm/react.mjs","../../../../src/constants/design-tokens.ts","../../../../src/constants/validation.ts","../../../../node_modules/lucide-react/src/icons/circle-alert.ts","../../../../node_modules/lucide-react/src/icons/cloud.ts","../../../../src/utils/validation.ts","../../../../src/store/projectStore.ts"],"sourcesContent":["\"use strict\";\n\nfunction _interop_require_default(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\nexports._ = _interop_require_default;\n","'use client'\n\nimport type { ReactElement } from 'react'\nimport { BailoutToCSRError } from './bailout-to-csr'\n\ninterface BailoutToCSRProps {\n  reason: string\n  children: ReactElement\n}\n\n/**\n * If rendered on the server, this component throws an error\n * to signal Next.js that it should bail out to client-side rendering instead.\n */\nexport function BailoutToCSR({ reason, children }: BailoutToCSRProps) {\n  if (typeof window === 'undefined') {\n    throw new BailoutToCSRError(reason)\n  }\n\n  return children\n}\n","export function encodeURIPath(file: string) {\n  return file\n    .split('/')\n    .map((p) => encodeURIComponent(p))\n    .join('/')\n}\n","// This could also be a variable instead of a function, but some unit tests want to change the ID at\n// runtime. Even though that would never happen in a real deployment.\nexport function getDeploymentId(): string | undefined {\n  return process.env.NEXT_DEPLOYMENT_ID\n}\n\nexport function getDeploymentIdQueryOrEmptyString(): string {\n  let deploymentId = getDeploymentId()\n  if (deploymentId) {\n    return `?dpl=${deploymentId}`\n  }\n  return ''\n}\n","'use client'\n\nimport { preload } from 'react-dom'\n\nimport { workAsyncStorage } from '../../../server/app-render/work-async-storage.external'\nimport { encodeURIPath } from '../encode-uri-path'\nimport { getDeploymentIdQueryOrEmptyString } from '../deployment-id'\n\nexport function PreloadChunks({\n  moduleIds,\n}: {\n  moduleIds: string[] | undefined\n}) {\n  // Early return in client compilation and only load requestStore on server side\n  if (typeof window !== 'undefined') {\n    return null\n  }\n\n  const workStore = workAsyncStorage.getStore()\n  if (workStore === undefined) {\n    return null\n  }\n\n  const allFiles = []\n\n  // Search the current dynamic call unique key id in react loadable manifest,\n  // and find the corresponding CSS files to preload\n  if (workStore.reactLoadableManifest && moduleIds) {\n    const manifest = workStore.reactLoadableManifest\n    for (const key of moduleIds) {\n      if (!manifest[key]) continue\n      const chunks = manifest[key].files\n      allFiles.push(...chunks)\n    }\n  }\n\n  if (allFiles.length === 0) {\n    return null\n  }\n\n  const dplId = getDeploymentIdQueryOrEmptyString()\n\n  return (\n    <>\n      {allFiles.map((chunk) => {\n        const href = `${workStore.assetPrefix}/_next/${encodeURIPath(chunk)}${dplId}`\n        const isCss = chunk.endsWith('.css')\n        // If it's stylesheet we use `precedence` o help hoist with React Float.\n        // For stylesheets we actually need to render the CSS because nothing else is going to do it so it needs to be part of the component tree.\n        // The `preload` for stylesheet is not optional.\n        if (isCss) {\n          return (\n            <link\n              key={chunk}\n              // @ts-ignore\n              precedence=\"dynamic\"\n              href={href}\n              rel=\"stylesheet\"\n              as=\"style\"\n              nonce={workStore.nonce}\n            />\n          )\n        } else {\n          // If it's script we use ReactDOM.preload to preload the resources\n          preload(href, {\n            as: 'script',\n            fetchPriority: 'low',\n            nonce: workStore.nonce,\n          })\n          return null\n        }\n      })}\n    </>\n  )\n}\n","import { Suspense, Fragment, lazy } from 'react'\nimport { BailoutToCSR } from './dynamic-bailout-to-csr'\nimport type { ComponentModule } from './types'\nimport { PreloadChunks } from './preload-chunks'\n\n// Normalize loader to return the module as form { default: Component } for `React.lazy`.\n// Also for backward compatible since next/dynamic allows to resolve a component directly with loader\n// Client component reference proxy need to be converted to a module.\nfunction convertModule<P>(\n  mod: React.ComponentType<P> | ComponentModule<P> | undefined\n): {\n  default: React.ComponentType<P>\n} {\n  // Check \"default\" prop before accessing it, as it could be client reference proxy that could break it reference.\n  // Cases:\n  // mod: { default: Component }\n  // mod: Component\n  // mod: { default: proxy(Component) }\n  // mod: proxy(Component)\n  const hasDefault = mod && 'default' in mod\n  return {\n    default: hasDefault\n      ? (mod as ComponentModule<P>).default\n      : (mod as React.ComponentType<P>),\n  }\n}\n\nconst defaultOptions = {\n  loader: () => Promise.resolve(convertModule(() => null)),\n  loading: null,\n  ssr: true,\n}\n\ninterface LoadableOptions {\n  loader?: () => Promise<React.ComponentType<any> | ComponentModule<any>>\n  loading?: React.ComponentType<any> | null\n  ssr?: boolean\n  modules?: string[]\n}\n\nfunction Loadable(options: LoadableOptions) {\n  const opts = { ...defaultOptions, ...options }\n  const Lazy = lazy(() => opts.loader().then(convertModule))\n  const Loading = opts.loading\n\n  function LoadableComponent(props: any) {\n    const fallbackElement = Loading ? (\n      <Loading isLoading={true} pastDelay={true} error={null} />\n    ) : null\n\n    // If it's non-SSR or provided a loading component, wrap it in a suspense boundary\n    const hasSuspenseBoundary = !opts.ssr || !!opts.loading\n    const Wrap = hasSuspenseBoundary ? Suspense : Fragment\n    const wrapProps = hasSuspenseBoundary ? { fallback: fallbackElement } : {}\n    const children = opts.ssr ? (\n      <>\n        {/* During SSR, we need to preload the CSS from the dynamic component to avoid flash of unstyled content */}\n        {typeof window === 'undefined' ? (\n          <PreloadChunks moduleIds={opts.modules} />\n        ) : null}\n        <Lazy {...props} />\n      </>\n    ) : (\n      <BailoutToCSR reason=\"next/dynamic\">\n        <Lazy {...props} />\n      </BailoutToCSR>\n    )\n\n    return <Wrap {...wrapProps}>{children}</Wrap>\n  }\n\n  LoadableComponent.displayName = 'LoadableComponent'\n\n  return LoadableComponent\n}\n\nexport default Loadable\n","import type React from 'react'\nimport type { JSX } from 'react'\nimport Loadable from './lazy-dynamic/loadable'\n\nimport type {\n  LoadableGeneratedOptions,\n  DynamicOptionsLoadingProps,\n  Loader,\n  LoaderComponent,\n} from './lazy-dynamic/types'\n\nexport {\n  type LoadableGeneratedOptions,\n  type DynamicOptionsLoadingProps,\n  type Loader,\n  type LoaderComponent,\n}\n\nexport type DynamicOptions<P = {}> = LoadableGeneratedOptions & {\n  loading?: () => JSX.Element | null\n  loader?: Loader<P>\n  loadableGenerated?: LoadableGeneratedOptions\n  modules?: string[]\n  ssr?: boolean\n}\n\nexport type LoadableOptions<P = {}> = DynamicOptions<P>\n\nexport type LoadableFn<P = {}> = (\n  opts: LoadableOptions<P>\n) => React.ComponentType<P>\n\nexport type LoadableComponent<P = {}> = React.ComponentType<P>\n\nexport default function dynamic<P = {}>(\n  dynamicOptions: DynamicOptions<P> | Loader<P>,\n  options?: DynamicOptions<P>\n): React.ComponentType<P> {\n  const loadableOptions: LoadableOptions<P> = {}\n\n  if (typeof dynamicOptions === 'function') {\n    loadableOptions.loader = dynamicOptions\n  }\n\n  const mergedOptions = {\n    ...loadableOptions,\n    ...options,\n  }\n\n  return Loadable({\n    ...mergedOptions,\n    modules: mergedOptions.loadableGenerated?.modules,\n  })\n}\n","'use client';\n\nimport { useState } from 'react';\nimport { X, Loader2, Cloud, AlertCircle } from 'lucide-react';\nimport { AnimationType, Visibility } from '@/lib/schemas/animations';\n\ninterface SaveToCloudModalProps {\n  projectName: string;\n  payload: unknown;\n  onClose: () => void;\n  onSuccess: (id: string) => void;\n}\n\nconst ANIMATION_TYPES: { value: AnimationType; label: string; description: string }[] = [\n  { value: 'tactic', label: 'Tactic', description: 'Set plays and tactical movements' },\n  { value: 'skill', label: 'Skill', description: 'Technical drills and exercises' },\n  { value: 'game', label: 'Game', description: 'Match situations and scenarios' },\n  { value: 'other', label: 'Other', description: 'Other animation types' },\n];\n\nconst VISIBILITY_OPTIONS: { value: Visibility; label: string; description: string }[] = [\n  { value: 'private', label: 'Private', description: 'Only you can see this animation' },\n  { value: 'link_shared', label: 'Link Only', description: 'Anyone with the link can view' },\n  { value: 'public', label: 'Public', description: 'Visible in the public gallery' },\n];\n\nexport function SaveToCloudModal({ projectName, payload, onClose, onSuccess }: SaveToCloudModalProps) {\n  const [title, setTitle] = useState(projectName || 'Untitled Animation');\n  const [description, setDescription] = useState('');\n  const [animationType, setAnimationType] = useState<AnimationType>('tactic');\n  const [visibility, setVisibility] = useState<Visibility>('private');\n  const [tags, setTags] = useState('');\n  const [isSaving, setIsSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!title.trim()) {\n      setError('Title is required');\n      return;\n    }\n\n    setIsSaving(true);\n    setError(null);\n\n    try {\n      const tagArray = tags\n        .split(',')\n        .map(t => t.trim())\n        .filter(t => t.length > 0)\n        .slice(0, 10);\n\n      const response = await fetch('/api/animations', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          title: title.trim(),\n          description: description.trim() || undefined,\n          animation_type: animationType,\n          visibility,\n          tags: tagArray.length > 0 ? tagArray : undefined,\n          payload,\n        }),\n      });\n\n      if (!response.ok) {\n        const data = await response.json();\n        throw new Error(data.error?.message || 'Failed to save animation');\n      }\n\n      const result = await response.json();\n      onSuccess(result.id);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      {/* Backdrop */}\n      <div \n        className=\"absolute inset-0 bg-black/50\" \n        onClick={onClose}\n      />\n      \n      {/* Modal */}\n      <div className=\"relative w-full max-w-lg bg-surface border border-border mx-4 max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 border-b border-border sticky top-0 bg-surface\">\n          <div className=\"flex items-center gap-2\">\n            <Cloud className=\"w-5 h-5 text-primary\" />\n            <h2 className=\"text-lg font-heading font-semibold text-text-primary\">\n              Save to Cloud\n            </h2>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"p-1 hover:bg-surface-warm transition-colors\"\n            aria-label=\"Close modal\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"p-4\">\n          {error && (\n            <div className=\"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 text-sm flex items-start gap-2\">\n              <AlertCircle className=\"w-4 h-4 mt-0.5 flex-shrink-0\" />\n              <span>{error}</span>\n            </div>\n          )}\n\n          {/* Title */}\n          <div className=\"mb-4\">\n            <label htmlFor=\"save-title\" className=\"block text-sm font-medium text-text-primary mb-1\">\n              Title <span className=\"text-red-500\">*</span>\n            </label>\n            <input\n              type=\"text\"\n              id=\"save-title\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              className=\"w-full px-3 py-2 border border-border bg-surface focus:border-primary focus:outline-none\"\n              maxLength={100}\n              placeholder=\"Enter a title for your animation\"\n              required\n            />\n            <p className=\"text-xs text-text-primary/50 mt-1\">{title.length}/100 characters</p>\n          </div>\n\n          {/* Description */}\n          <div className=\"mb-4\">\n            <label htmlFor=\"save-description\" className=\"block text-sm font-medium text-text-primary mb-1\">\n              Description\n            </label>\n            <textarea\n              id=\"save-description\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              className=\"w-full px-3 py-2 border border-border bg-surface focus:border-primary focus:outline-none resize-none\"\n              rows={3}\n              maxLength={2000}\n              placeholder=\"Describe your animation (optional)\"\n            />\n            <p className=\"text-xs text-text-primary/50 mt-1\">{description.length}/2000 characters</p>\n          </div>\n\n          {/* Animation Type */}\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium text-text-primary mb-2\">\n              Animation Type <span className=\"text-red-500\">*</span>\n            </label>\n            <div className=\"grid grid-cols-2 gap-2\">\n              {ANIMATION_TYPES.map((type) => (\n                <button\n                  key={type.value}\n                  type=\"button\"\n                  onClick={() => setAnimationType(type.value)}\n                  className={`p-3 text-left transition-colors border ${\n                    animationType === type.value\n                      ? 'border-primary bg-primary/5'\n                      : 'border-border hover:border-primary/50'\n                  }`}\n                >\n                  <div className=\"font-medium text-sm text-text-primary\">{type.label}</div>\n                  <div className=\"text-xs text-text-primary/60\">{type.description}</div>\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Tags */}\n          <div className=\"mb-4\">\n            <label htmlFor=\"save-tags\" className=\"block text-sm font-medium text-text-primary mb-1\">\n              Tags\n            </label>\n            <input\n              type=\"text\"\n              id=\"save-tags\"\n              value={tags}\n              onChange={(e) => setTags(e.target.value)}\n              className=\"w-full px-3 py-2 border border-border bg-surface focus:border-primary focus:outline-none\"\n              placeholder=\"lineout, scrum, backs (comma-separated)\"\n            />\n            <p className=\"text-xs text-text-primary/50 mt-1\">Up to 10 tags, separated by commas</p>\n          </div>\n\n          {/* Visibility */}\n          <div className=\"mb-6\">\n            <label className=\"block text-sm font-medium text-text-primary mb-2\">\n              Visibility\n            </label>\n            <div className=\"space-y-2\">\n              {VISIBILITY_OPTIONS.map((option) => (\n                <label\n                  key={option.value}\n                  className={`flex items-start p-3 cursor-pointer border transition-colors ${\n                    visibility === option.value\n                      ? 'border-primary bg-primary/5'\n                      : 'border-border hover:border-primary/50'\n                  }`}\n                >\n                  <input\n                    type=\"radio\"\n                    name=\"visibility\"\n                    value={option.value}\n                    checked={visibility === option.value}\n                    onChange={() => setVisibility(option.value)}\n                    className=\"mt-0.5 mr-3\"\n                  />\n                  <div>\n                    <div className=\"font-medium text-text-primary\">{option.label}</div>\n                    <div className=\"text-xs text-text-primary/70\">{option.description}</div>\n                  </div>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex gap-3\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-4 py-2 border border-border text-text-primary font-medium hover:bg-surface-warm transition-colors\"\n              disabled={isSaving}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"flex-1 px-4 py-2 bg-primary text-text-inverse font-medium hover:bg-primary/90 transition-colors disabled:opacity-50\"\n              disabled={isSaving}\n            >\n              {isSaving ? (\n                <span className=\"inline-flex items-center justify-center gap-2\">\n                  <Loader2 className=\"w-4 h-4 animate-spin\" />\n                  Saving...\n                </span>\n              ) : (\n                <span className=\"inline-flex items-center justify-center gap-2\">\n                  <Cloud className=\"w-4 h-4\" />\n                  Save to Cloud\n                </span>\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = ((createState) => createState ? createStoreImpl(createState) : createStoreImpl);\n\nexport { createStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...args) => api.dispatch(...args), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst removeStoreFromTrackedConnections = (name, store) => {\n  if (store === void 0) return;\n  const connectionInfo = trackedConnections.get(name);\n  if (!connectionInfo) return;\n  delete connectionInfo.stores[store];\n  if (Object.keys(connectionInfo.stores).length === 0) {\n    trackedConnections.delete(name);\n  }\n};\nconst findCallerName = (stack) => {\n  var _a, _b;\n  if (!stack) return void 0;\n  const traceLines = stack.split(\"\\n\");\n  const apiSetStateLineIndex = traceLines.findIndex(\n    (traceLine) => traceLine.includes(\"api.setState\")\n  );\n  if (apiSetStateLineIndex < 0) return void 0;\n  const callerLine = ((_a = traceLines[apiSetStateLineIndex + 1]) == null ? void 0 : _a.trim()) || \"\";\n  return (_b = /.+ (.+) .+/.exec(callerLine)) == null ? void 0 : _b[1];\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = ((state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? {\n      type: anonymousActionType || findCallerName(new Error().stack) || \"anonymous\"\n    } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  });\n  api.devtools = {\n    cleanup: () => {\n      if (connection && typeof connection.unsubscribe === \"function\") {\n        connection.unsubscribe();\n      }\n      removeStoreFromTrackedConnections(options.name, store);\n    }\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...args) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && args[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...args);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, fn) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) fn(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = ((selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  });\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nfunction combine(initialState, create) {\n  return (...args) => Object.assign({}, initialState, create(...args));\n}\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(name, JSON.stringify(newValue, options == null ? void 0 : options.replacer)),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  let hydrationVersion = 0;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    return setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      return setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    const currentVersion = ++hydrationVersion;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      if (currentVersion !== hydrationVersion) {\n        return;\n      }\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      if (currentVersion !== hydrationVersion) {\n        return;\n      }\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      if (currentVersion !== hydrationVersion) {\n        return;\n      }\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\n\nfunction ssrSafe(config, isSSR = typeof window === \"undefined\") {\n  return (set, get, api) => {\n    if (!isSSR) {\n      return config(set, get, api);\n    }\n    const ssrSet = () => {\n      throw new Error(\"Cannot set state of Zustand store in SSR\");\n    };\n    api.setState = ssrSet;\n    return config(ssrSet, get, api);\n  };\n}\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector, ssrSafe as unstable_ssrSafe };\n","'use client';\n\nimport dynamic from 'next/dynamic';\nimport { useEffect, useState, useCallback } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { createSupabaseBrowserClient } from '../../lib/supabase/client';\nimport { SaveToCloudModal } from '../../components/SaveToCloudModal';\nimport { useProjectStore } from '../../src/store/projectStore';\nimport type { User } from '@supabase/supabase-js';\nimport { toast } from 'sonner';\n\nconst Editor = dynamic(() => import('../../components/Editor'), {\n  ssr: false,\n  loading: () => (\n    <div className=\"flex h-screen items-center justify-center bg-background\">\n      <div className=\"text-center\">\n        <div className=\"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4\" />\n        <p className=\"text-text-primary\">Loading editor...</p>\n      </div>\n    </div>\n  ),\n});\n\nexport default function AnimationToolPage() {\n  const router = useRouter();\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [showSaveModal, setShowSaveModal] = useState(false);\n\n  const project = useProjectStore((state) => state.project);\n\n  useEffect(() => {\n    const supabase = createSupabaseBrowserClient();\n    \n    supabase.auth.getUser().then(({ data: { user } }) => {\n      setUser(user);\n      setLoading(false);\n    });\n\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\n      setUser(session?.user ?? null);\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  const handleSaveToCloud = useCallback(() => {\n    if (!user) {\n      router.push('/login?redirect=/app');\n      return;\n    }\n    setShowSaveModal(true);\n  }, [user, router]);\n\n  const handleSaveSuccess = useCallback((id: string) => {\n    setShowSaveModal(false);\n    toast.success('Animation saved to cloud!');\n    console.log('Saved animation ID:', id);\n  }, []);\n\n  const getPayload = useCallback(() => {\n    if (!project) return null;\n    return {\n      version: '1.0',\n      name: project.name,\n      sport: project.sport,\n      frames: project.frames,\n      settings: project.settings,\n    };\n  }, [project]);\n\n  if (loading) {\n    return (\n      <div className=\"flex h-screen items-center justify-center bg-background\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4\" />\n          <p className=\"text-text-primary\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const payload = getPayload();\n\n  return (\n    <>\n      <Editor isAuthenticated={!!user} onSaveToCloud={handleSaveToCloud} />\n      {showSaveModal && payload && (\n        <SaveToCloudModal\n          projectName={project?.name || 'Untitled Animation'}\n          payload={payload}\n          onClose={() => setShowSaveModal(false)}\n          onSuccess={handleSaveSuccess}\n        />\n      )}\n    </>\n  );\n}\n","'use client';\nfunction __insertCSS(code) {\n  if (!code || typeof document == 'undefined') return\n  let head = document.head || document.getElementsByTagName('head')[0]\n  let style = document.createElement('style')\n  style.type = 'text/css'\n  head.appendChild(style)\n  ;style.styleSheet ? (style.styleSheet.cssText = code) : style.appendChild(document.createTextNode(code))\n}\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst getAsset = (type)=>{\n    switch(type){\n        case 'success':\n            return SuccessIcon;\n        case 'info':\n            return InfoIcon;\n        case 'warning':\n            return WarningIcon;\n        case 'error':\n            return ErrorIcon;\n        default:\n            return null;\n    }\n};\nconst bars = Array(12).fill(0);\nconst Loader = ({ visible, className })=>{\n    return /*#__PURE__*/ React.createElement(\"div\", {\n        className: [\n            'sonner-loading-wrapper',\n            className\n        ].filter(Boolean).join(' '),\n        \"data-visible\": visible\n    }, /*#__PURE__*/ React.createElement(\"div\", {\n        className: \"sonner-spinner\"\n    }, bars.map((_, i)=>/*#__PURE__*/ React.createElement(\"div\", {\n            className: \"sonner-loading-bar\",\n            key: `spinner-bar-${i}`\n        }))));\n};\nconst SuccessIcon = /*#__PURE__*/ React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    height: \"20\",\n    width: \"20\"\n}, /*#__PURE__*/ React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z\",\n    clipRule: \"evenodd\"\n}));\nconst WarningIcon = /*#__PURE__*/ React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    height: \"20\",\n    width: \"20\"\n}, /*#__PURE__*/ React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z\",\n    clipRule: \"evenodd\"\n}));\nconst InfoIcon = /*#__PURE__*/ React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    height: \"20\",\n    width: \"20\"\n}, /*#__PURE__*/ React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z\",\n    clipRule: \"evenodd\"\n}));\nconst ErrorIcon = /*#__PURE__*/ React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    height: \"20\",\n    width: \"20\"\n}, /*#__PURE__*/ React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z\",\n    clipRule: \"evenodd\"\n}));\nconst CloseIcon = /*#__PURE__*/ React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"12\",\n    height: \"12\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n}, /*#__PURE__*/ React.createElement(\"line\", {\n    x1: \"18\",\n    y1: \"6\",\n    x2: \"6\",\n    y2: \"18\"\n}), /*#__PURE__*/ React.createElement(\"line\", {\n    x1: \"6\",\n    y1: \"6\",\n    x2: \"18\",\n    y2: \"18\"\n}));\n\nconst useIsDocumentHidden = ()=>{\n    const [isDocumentHidden, setIsDocumentHidden] = React.useState(document.hidden);\n    React.useEffect(()=>{\n        const callback = ()=>{\n            setIsDocumentHidden(document.hidden);\n        };\n        document.addEventListener('visibilitychange', callback);\n        return ()=>window.removeEventListener('visibilitychange', callback);\n    }, []);\n    return isDocumentHidden;\n};\n\nlet toastsCounter = 1;\nclass Observer {\n    constructor(){\n        // We use arrow functions to maintain the correct `this` reference\n        this.subscribe = (subscriber)=>{\n            this.subscribers.push(subscriber);\n            return ()=>{\n                const index = this.subscribers.indexOf(subscriber);\n                this.subscribers.splice(index, 1);\n            };\n        };\n        this.publish = (data)=>{\n            this.subscribers.forEach((subscriber)=>subscriber(data));\n        };\n        this.addToast = (data)=>{\n            this.publish(data);\n            this.toasts = [\n                ...this.toasts,\n                data\n            ];\n        };\n        this.create = (data)=>{\n            var _data_id;\n            const { message, ...rest } = data;\n            const id = typeof (data == null ? void 0 : data.id) === 'number' || ((_data_id = data.id) == null ? void 0 : _data_id.length) > 0 ? data.id : toastsCounter++;\n            const alreadyExists = this.toasts.find((toast)=>{\n                return toast.id === id;\n            });\n            const dismissible = data.dismissible === undefined ? true : data.dismissible;\n            if (this.dismissedToasts.has(id)) {\n                this.dismissedToasts.delete(id);\n            }\n            if (alreadyExists) {\n                this.toasts = this.toasts.map((toast)=>{\n                    if (toast.id === id) {\n                        this.publish({\n                            ...toast,\n                            ...data,\n                            id,\n                            title: message\n                        });\n                        return {\n                            ...toast,\n                            ...data,\n                            id,\n                            dismissible,\n                            title: message\n                        };\n                    }\n                    return toast;\n                });\n            } else {\n                this.addToast({\n                    title: message,\n                    ...rest,\n                    dismissible,\n                    id\n                });\n            }\n            return id;\n        };\n        this.dismiss = (id)=>{\n            if (id) {\n                this.dismissedToasts.add(id);\n                requestAnimationFrame(()=>this.subscribers.forEach((subscriber)=>subscriber({\n                            id,\n                            dismiss: true\n                        })));\n            } else {\n                this.toasts.forEach((toast)=>{\n                    this.subscribers.forEach((subscriber)=>subscriber({\n                            id: toast.id,\n                            dismiss: true\n                        }));\n                });\n            }\n            return id;\n        };\n        this.message = (message, data)=>{\n            return this.create({\n                ...data,\n                message\n            });\n        };\n        this.error = (message, data)=>{\n            return this.create({\n                ...data,\n                message,\n                type: 'error'\n            });\n        };\n        this.success = (message, data)=>{\n            return this.create({\n                ...data,\n                type: 'success',\n                message\n            });\n        };\n        this.info = (message, data)=>{\n            return this.create({\n                ...data,\n                type: 'info',\n                message\n            });\n        };\n        this.warning = (message, data)=>{\n            return this.create({\n                ...data,\n                type: 'warning',\n                message\n            });\n        };\n        this.loading = (message, data)=>{\n            return this.create({\n                ...data,\n                type: 'loading',\n                message\n            });\n        };\n        this.promise = (promise, data)=>{\n            if (!data) {\n                // Nothing to show\n                return;\n            }\n            let id = undefined;\n            if (data.loading !== undefined) {\n                id = this.create({\n                    ...data,\n                    promise,\n                    type: 'loading',\n                    message: data.loading,\n                    description: typeof data.description !== 'function' ? data.description : undefined\n                });\n            }\n            const p = Promise.resolve(promise instanceof Function ? promise() : promise);\n            let shouldDismiss = id !== undefined;\n            let result;\n            const originalPromise = p.then(async (response)=>{\n                result = [\n                    'resolve',\n                    response\n                ];\n                const isReactElementResponse = React.isValidElement(response);\n                if (isReactElementResponse) {\n                    shouldDismiss = false;\n                    this.create({\n                        id,\n                        type: 'default',\n                        message: response\n                    });\n                } else if (isHttpResponse(response) && !response.ok) {\n                    shouldDismiss = false;\n                    const promiseData = typeof data.error === 'function' ? await data.error(`HTTP error! status: ${response.status}`) : data.error;\n                    const description = typeof data.description === 'function' ? await data.description(`HTTP error! status: ${response.status}`) : data.description;\n                    const isExtendedResult = typeof promiseData === 'object' && !React.isValidElement(promiseData);\n                    const toastSettings = isExtendedResult ? promiseData : {\n                        message: promiseData\n                    };\n                    this.create({\n                        id,\n                        type: 'error',\n                        description,\n                        ...toastSettings\n                    });\n                } else if (response instanceof Error) {\n                    shouldDismiss = false;\n                    const promiseData = typeof data.error === 'function' ? await data.error(response) : data.error;\n                    const description = typeof data.description === 'function' ? await data.description(response) : data.description;\n                    const isExtendedResult = typeof promiseData === 'object' && !React.isValidElement(promiseData);\n                    const toastSettings = isExtendedResult ? promiseData : {\n                        message: promiseData\n                    };\n                    this.create({\n                        id,\n                        type: 'error',\n                        description,\n                        ...toastSettings\n                    });\n                } else if (data.success !== undefined) {\n                    shouldDismiss = false;\n                    const promiseData = typeof data.success === 'function' ? await data.success(response) : data.success;\n                    const description = typeof data.description === 'function' ? await data.description(response) : data.description;\n                    const isExtendedResult = typeof promiseData === 'object' && !React.isValidElement(promiseData);\n                    const toastSettings = isExtendedResult ? promiseData : {\n                        message: promiseData\n                    };\n                    this.create({\n                        id,\n                        type: 'success',\n                        description,\n                        ...toastSettings\n                    });\n                }\n            }).catch(async (error)=>{\n                result = [\n                    'reject',\n                    error\n                ];\n                if (data.error !== undefined) {\n                    shouldDismiss = false;\n                    const promiseData = typeof data.error === 'function' ? await data.error(error) : data.error;\n                    const description = typeof data.description === 'function' ? await data.description(error) : data.description;\n                    const isExtendedResult = typeof promiseData === 'object' && !React.isValidElement(promiseData);\n                    const toastSettings = isExtendedResult ? promiseData : {\n                        message: promiseData\n                    };\n                    this.create({\n                        id,\n                        type: 'error',\n                        description,\n                        ...toastSettings\n                    });\n                }\n            }).finally(()=>{\n                if (shouldDismiss) {\n                    // Toast is still in load state (and will be indefinitely  dismiss it)\n                    this.dismiss(id);\n                    id = undefined;\n                }\n                data.finally == null ? void 0 : data.finally.call(data);\n            });\n            const unwrap = ()=>new Promise((resolve, reject)=>originalPromise.then(()=>result[0] === 'reject' ? reject(result[1]) : resolve(result[1])).catch(reject));\n            if (typeof id !== 'string' && typeof id !== 'number') {\n                // cannot Object.assign on undefined\n                return {\n                    unwrap\n                };\n            } else {\n                return Object.assign(id, {\n                    unwrap\n                });\n            }\n        };\n        this.custom = (jsx, data)=>{\n            const id = (data == null ? void 0 : data.id) || toastsCounter++;\n            this.create({\n                jsx: jsx(id),\n                id,\n                ...data\n            });\n            return id;\n        };\n        this.getActiveToasts = ()=>{\n            return this.toasts.filter((toast)=>!this.dismissedToasts.has(toast.id));\n        };\n        this.subscribers = [];\n        this.toasts = [];\n        this.dismissedToasts = new Set();\n    }\n}\nconst ToastState = new Observer();\n// bind this to the toast function\nconst toastFunction = (message, data)=>{\n    const id = (data == null ? void 0 : data.id) || toastsCounter++;\n    ToastState.addToast({\n        title: message,\n        ...data,\n        id\n    });\n    return id;\n};\nconst isHttpResponse = (data)=>{\n    return data && typeof data === 'object' && 'ok' in data && typeof data.ok === 'boolean' && 'status' in data && typeof data.status === 'number';\n};\nconst basicToast = toastFunction;\nconst getHistory = ()=>ToastState.toasts;\nconst getToasts = ()=>ToastState.getActiveToasts();\n// We use `Object.assign` to maintain the correct types as we would lose them otherwise\nconst toast = Object.assign(basicToast, {\n    success: ToastState.success,\n    info: ToastState.info,\n    warning: ToastState.warning,\n    error: ToastState.error,\n    custom: ToastState.custom,\n    message: ToastState.message,\n    promise: ToastState.promise,\n    dismiss: ToastState.dismiss,\n    loading: ToastState.loading\n}, {\n    getHistory,\n    getToasts\n});\n\n__insertCSS(\"[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\");\n\nfunction isAction(action) {\n    return action.label !== undefined;\n}\n\n// Visible toasts amount\nconst VISIBLE_TOASTS_AMOUNT = 3;\n// Viewport padding\nconst VIEWPORT_OFFSET = '24px';\n// Mobile viewport padding\nconst MOBILE_VIEWPORT_OFFSET = '16px';\n// Default lifetime of a toasts (in ms)\nconst TOAST_LIFETIME = 4000;\n// Default toast width\nconst TOAST_WIDTH = 356;\n// Default gap between toasts\nconst GAP = 14;\n// Threshold to dismiss a toast\nconst SWIPE_THRESHOLD = 45;\n// Equal to exit animation duration\nconst TIME_BEFORE_UNMOUNT = 200;\nfunction cn(...classes) {\n    return classes.filter(Boolean).join(' ');\n}\nfunction getDefaultSwipeDirections(position) {\n    const [y, x] = position.split('-');\n    const directions = [];\n    if (y) {\n        directions.push(y);\n    }\n    if (x) {\n        directions.push(x);\n    }\n    return directions;\n}\nconst Toast = (props)=>{\n    var _toast_classNames, _toast_classNames1, _toast_classNames2, _toast_classNames3, _toast_classNames4, _toast_classNames5, _toast_classNames6, _toast_classNames7, _toast_classNames8;\n    const { invert: ToasterInvert, toast, unstyled, interacting, setHeights, visibleToasts, heights, index, toasts, expanded, removeToast, defaultRichColors, closeButton: closeButtonFromToaster, style, cancelButtonStyle, actionButtonStyle, className = '', descriptionClassName = '', duration: durationFromToaster, position, gap, expandByDefault, classNames, icons, closeButtonAriaLabel = 'Close toast' } = props;\n    const [swipeDirection, setSwipeDirection] = React.useState(null);\n    const [swipeOutDirection, setSwipeOutDirection] = React.useState(null);\n    const [mounted, setMounted] = React.useState(false);\n    const [removed, setRemoved] = React.useState(false);\n    const [swiping, setSwiping] = React.useState(false);\n    const [swipeOut, setSwipeOut] = React.useState(false);\n    const [isSwiped, setIsSwiped] = React.useState(false);\n    const [offsetBeforeRemove, setOffsetBeforeRemove] = React.useState(0);\n    const [initialHeight, setInitialHeight] = React.useState(0);\n    const remainingTime = React.useRef(toast.duration || durationFromToaster || TOAST_LIFETIME);\n    const dragStartTime = React.useRef(null);\n    const toastRef = React.useRef(null);\n    const isFront = index === 0;\n    const isVisible = index + 1 <= visibleToasts;\n    const toastType = toast.type;\n    const dismissible = toast.dismissible !== false;\n    const toastClassname = toast.className || '';\n    const toastDescriptionClassname = toast.descriptionClassName || '';\n    // Height index is used to calculate the offset as it gets updated before the toast array, which means we can calculate the new layout faster.\n    const heightIndex = React.useMemo(()=>heights.findIndex((height)=>height.toastId === toast.id) || 0, [\n        heights,\n        toast.id\n    ]);\n    const closeButton = React.useMemo(()=>{\n        var _toast_closeButton;\n        return (_toast_closeButton = toast.closeButton) != null ? _toast_closeButton : closeButtonFromToaster;\n    }, [\n        toast.closeButton,\n        closeButtonFromToaster\n    ]);\n    const duration = React.useMemo(()=>toast.duration || durationFromToaster || TOAST_LIFETIME, [\n        toast.duration,\n        durationFromToaster\n    ]);\n    const closeTimerStartTimeRef = React.useRef(0);\n    const offset = React.useRef(0);\n    const lastCloseTimerStartTimeRef = React.useRef(0);\n    const pointerStartRef = React.useRef(null);\n    const [y, x] = position.split('-');\n    const toastsHeightBefore = React.useMemo(()=>{\n        return heights.reduce((prev, curr, reducerIndex)=>{\n            // Calculate offset up until current toast\n            if (reducerIndex >= heightIndex) {\n                return prev;\n            }\n            return prev + curr.height;\n        }, 0);\n    }, [\n        heights,\n        heightIndex\n    ]);\n    const isDocumentHidden = useIsDocumentHidden();\n    const invert = toast.invert || ToasterInvert;\n    const disabled = toastType === 'loading';\n    offset.current = React.useMemo(()=>heightIndex * gap + toastsHeightBefore, [\n        heightIndex,\n        toastsHeightBefore\n    ]);\n    React.useEffect(()=>{\n        remainingTime.current = duration;\n    }, [\n        duration\n    ]);\n    React.useEffect(()=>{\n        // Trigger enter animation without using CSS animation\n        setMounted(true);\n    }, []);\n    React.useEffect(()=>{\n        const toastNode = toastRef.current;\n        if (toastNode) {\n            const height = toastNode.getBoundingClientRect().height;\n            // Add toast height to heights array after the toast is mounted\n            setInitialHeight(height);\n            setHeights((h)=>[\n                    {\n                        toastId: toast.id,\n                        height,\n                        position: toast.position\n                    },\n                    ...h\n                ]);\n            return ()=>setHeights((h)=>h.filter((height)=>height.toastId !== toast.id));\n        }\n    }, [\n        setHeights,\n        toast.id\n    ]);\n    React.useLayoutEffect(()=>{\n        // Keep height up to date with the content in case it updates\n        if (!mounted) return;\n        const toastNode = toastRef.current;\n        const originalHeight = toastNode.style.height;\n        toastNode.style.height = 'auto';\n        const newHeight = toastNode.getBoundingClientRect().height;\n        toastNode.style.height = originalHeight;\n        setInitialHeight(newHeight);\n        setHeights((heights)=>{\n            const alreadyExists = heights.find((height)=>height.toastId === toast.id);\n            if (!alreadyExists) {\n                return [\n                    {\n                        toastId: toast.id,\n                        height: newHeight,\n                        position: toast.position\n                    },\n                    ...heights\n                ];\n            } else {\n                return heights.map((height)=>height.toastId === toast.id ? {\n                        ...height,\n                        height: newHeight\n                    } : height);\n            }\n        });\n    }, [\n        mounted,\n        toast.title,\n        toast.description,\n        setHeights,\n        toast.id,\n        toast.jsx,\n        toast.action,\n        toast.cancel\n    ]);\n    const deleteToast = React.useCallback(()=>{\n        // Save the offset for the exit swipe animation\n        setRemoved(true);\n        setOffsetBeforeRemove(offset.current);\n        setHeights((h)=>h.filter((height)=>height.toastId !== toast.id));\n        setTimeout(()=>{\n            removeToast(toast);\n        }, TIME_BEFORE_UNMOUNT);\n    }, [\n        toast,\n        removeToast,\n        setHeights,\n        offset\n    ]);\n    React.useEffect(()=>{\n        if (toast.promise && toastType === 'loading' || toast.duration === Infinity || toast.type === 'loading') return;\n        let timeoutId;\n        // Pause the timer on each hover\n        const pauseTimer = ()=>{\n            if (lastCloseTimerStartTimeRef.current < closeTimerStartTimeRef.current) {\n                // Get the elapsed time since the timer started\n                const elapsedTime = new Date().getTime() - closeTimerStartTimeRef.current;\n                remainingTime.current = remainingTime.current - elapsedTime;\n            }\n            lastCloseTimerStartTimeRef.current = new Date().getTime();\n        };\n        const startTimer = ()=>{\n            // setTimeout(, Infinity) behaves as if the delay is 0.\n            // As a result, the toast would be closed immediately, giving the appearance that it was never rendered.\n            // See: https://github.com/denysdovhan/wtfjs?tab=readme-ov-file#an-infinite-timeout\n            if (remainingTime.current === Infinity) return;\n            closeTimerStartTimeRef.current = new Date().getTime();\n            // Let the toast know it has started\n            timeoutId = setTimeout(()=>{\n                toast.onAutoClose == null ? void 0 : toast.onAutoClose.call(toast, toast);\n                deleteToast();\n            }, remainingTime.current);\n        };\n        if (expanded || interacting || isDocumentHidden) {\n            pauseTimer();\n        } else {\n            startTimer();\n        }\n        return ()=>clearTimeout(timeoutId);\n    }, [\n        expanded,\n        interacting,\n        toast,\n        toastType,\n        isDocumentHidden,\n        deleteToast\n    ]);\n    React.useEffect(()=>{\n        if (toast.delete) {\n            deleteToast();\n            toast.onDismiss == null ? void 0 : toast.onDismiss.call(toast, toast);\n        }\n    }, [\n        deleteToast,\n        toast.delete\n    ]);\n    function getLoadingIcon() {\n        var _toast_classNames;\n        if (icons == null ? void 0 : icons.loading) {\n            var _toast_classNames1;\n            return /*#__PURE__*/ React.createElement(\"div\", {\n                className: cn(classNames == null ? void 0 : classNames.loader, toast == null ? void 0 : (_toast_classNames1 = toast.classNames) == null ? void 0 : _toast_classNames1.loader, 'sonner-loader'),\n                \"data-visible\": toastType === 'loading'\n            }, icons.loading);\n        }\n        return /*#__PURE__*/ React.createElement(Loader, {\n            className: cn(classNames == null ? void 0 : classNames.loader, toast == null ? void 0 : (_toast_classNames = toast.classNames) == null ? void 0 : _toast_classNames.loader),\n            visible: toastType === 'loading'\n        });\n    }\n    const icon = toast.icon || (icons == null ? void 0 : icons[toastType]) || getAsset(toastType);\n    var _toast_richColors, _icons_close;\n    return /*#__PURE__*/ React.createElement(\"li\", {\n        tabIndex: 0,\n        ref: toastRef,\n        className: cn(className, toastClassname, classNames == null ? void 0 : classNames.toast, toast == null ? void 0 : (_toast_classNames = toast.classNames) == null ? void 0 : _toast_classNames.toast, classNames == null ? void 0 : classNames.default, classNames == null ? void 0 : classNames[toastType], toast == null ? void 0 : (_toast_classNames1 = toast.classNames) == null ? void 0 : _toast_classNames1[toastType]),\n        \"data-sonner-toast\": \"\",\n        \"data-rich-colors\": (_toast_richColors = toast.richColors) != null ? _toast_richColors : defaultRichColors,\n        \"data-styled\": !Boolean(toast.jsx || toast.unstyled || unstyled),\n        \"data-mounted\": mounted,\n        \"data-promise\": Boolean(toast.promise),\n        \"data-swiped\": isSwiped,\n        \"data-removed\": removed,\n        \"data-visible\": isVisible,\n        \"data-y-position\": y,\n        \"data-x-position\": x,\n        \"data-index\": index,\n        \"data-front\": isFront,\n        \"data-swiping\": swiping,\n        \"data-dismissible\": dismissible,\n        \"data-type\": toastType,\n        \"data-invert\": invert,\n        \"data-swipe-out\": swipeOut,\n        \"data-swipe-direction\": swipeOutDirection,\n        \"data-expanded\": Boolean(expanded || expandByDefault && mounted),\n        \"data-testid\": toast.testId,\n        style: {\n            '--index': index,\n            '--toasts-before': index,\n            '--z-index': toasts.length - index,\n            '--offset': `${removed ? offsetBeforeRemove : offset.current}px`,\n            '--initial-height': expandByDefault ? 'auto' : `${initialHeight}px`,\n            ...style,\n            ...toast.style\n        },\n        onDragEnd: ()=>{\n            setSwiping(false);\n            setSwipeDirection(null);\n            pointerStartRef.current = null;\n        },\n        onPointerDown: (event)=>{\n            if (event.button === 2) return; // Return early on right click\n            if (disabled || !dismissible) return;\n            dragStartTime.current = new Date();\n            setOffsetBeforeRemove(offset.current);\n            // Ensure we maintain correct pointer capture even when going outside of the toast (e.g. when swiping)\n            event.target.setPointerCapture(event.pointerId);\n            if (event.target.tagName === 'BUTTON') return;\n            setSwiping(true);\n            pointerStartRef.current = {\n                x: event.clientX,\n                y: event.clientY\n            };\n        },\n        onPointerUp: ()=>{\n            var _toastRef_current, _toastRef_current1, _dragStartTime_current;\n            if (swipeOut || !dismissible) return;\n            pointerStartRef.current = null;\n            const swipeAmountX = Number(((_toastRef_current = toastRef.current) == null ? void 0 : _toastRef_current.style.getPropertyValue('--swipe-amount-x').replace('px', '')) || 0);\n            const swipeAmountY = Number(((_toastRef_current1 = toastRef.current) == null ? void 0 : _toastRef_current1.style.getPropertyValue('--swipe-amount-y').replace('px', '')) || 0);\n            const timeTaken = new Date().getTime() - ((_dragStartTime_current = dragStartTime.current) == null ? void 0 : _dragStartTime_current.getTime());\n            const swipeAmount = swipeDirection === 'x' ? swipeAmountX : swipeAmountY;\n            const velocity = Math.abs(swipeAmount) / timeTaken;\n            if (Math.abs(swipeAmount) >= SWIPE_THRESHOLD || velocity > 0.11) {\n                setOffsetBeforeRemove(offset.current);\n                toast.onDismiss == null ? void 0 : toast.onDismiss.call(toast, toast);\n                if (swipeDirection === 'x') {\n                    setSwipeOutDirection(swipeAmountX > 0 ? 'right' : 'left');\n                } else {\n                    setSwipeOutDirection(swipeAmountY > 0 ? 'down' : 'up');\n                }\n                deleteToast();\n                setSwipeOut(true);\n                return;\n            } else {\n                var _toastRef_current2, _toastRef_current3;\n                (_toastRef_current2 = toastRef.current) == null ? void 0 : _toastRef_current2.style.setProperty('--swipe-amount-x', `0px`);\n                (_toastRef_current3 = toastRef.current) == null ? void 0 : _toastRef_current3.style.setProperty('--swipe-amount-y', `0px`);\n            }\n            setIsSwiped(false);\n            setSwiping(false);\n            setSwipeDirection(null);\n        },\n        onPointerMove: (event)=>{\n            var _window_getSelection, // Apply transform using both x and y values\n            _toastRef_current, _toastRef_current1;\n            if (!pointerStartRef.current || !dismissible) return;\n            const isHighlighted = ((_window_getSelection = window.getSelection()) == null ? void 0 : _window_getSelection.toString().length) > 0;\n            if (isHighlighted) return;\n            const yDelta = event.clientY - pointerStartRef.current.y;\n            const xDelta = event.clientX - pointerStartRef.current.x;\n            var _props_swipeDirections;\n            const swipeDirections = (_props_swipeDirections = props.swipeDirections) != null ? _props_swipeDirections : getDefaultSwipeDirections(position);\n            // Determine swipe direction if not already locked\n            if (!swipeDirection && (Math.abs(xDelta) > 1 || Math.abs(yDelta) > 1)) {\n                setSwipeDirection(Math.abs(xDelta) > Math.abs(yDelta) ? 'x' : 'y');\n            }\n            let swipeAmount = {\n                x: 0,\n                y: 0\n            };\n            const getDampening = (delta)=>{\n                const factor = Math.abs(delta) / 20;\n                return 1 / (1.5 + factor);\n            };\n            // Only apply swipe in the locked direction\n            if (swipeDirection === 'y') {\n                // Handle vertical swipes\n                if (swipeDirections.includes('top') || swipeDirections.includes('bottom')) {\n                    if (swipeDirections.includes('top') && yDelta < 0 || swipeDirections.includes('bottom') && yDelta > 0) {\n                        swipeAmount.y = yDelta;\n                    } else {\n                        // Smoothly transition to dampened movement\n                        const dampenedDelta = yDelta * getDampening(yDelta);\n                        // Ensure we don't jump when transitioning to dampened movement\n                        swipeAmount.y = Math.abs(dampenedDelta) < Math.abs(yDelta) ? dampenedDelta : yDelta;\n                    }\n                }\n            } else if (swipeDirection === 'x') {\n                // Handle horizontal swipes\n                if (swipeDirections.includes('left') || swipeDirections.includes('right')) {\n                    if (swipeDirections.includes('left') && xDelta < 0 || swipeDirections.includes('right') && xDelta > 0) {\n                        swipeAmount.x = xDelta;\n                    } else {\n                        // Smoothly transition to dampened movement\n                        const dampenedDelta = xDelta * getDampening(xDelta);\n                        // Ensure we don't jump when transitioning to dampened movement\n                        swipeAmount.x = Math.abs(dampenedDelta) < Math.abs(xDelta) ? dampenedDelta : xDelta;\n                    }\n                }\n            }\n            if (Math.abs(swipeAmount.x) > 0 || Math.abs(swipeAmount.y) > 0) {\n                setIsSwiped(true);\n            }\n            (_toastRef_current = toastRef.current) == null ? void 0 : _toastRef_current.style.setProperty('--swipe-amount-x', `${swipeAmount.x}px`);\n            (_toastRef_current1 = toastRef.current) == null ? void 0 : _toastRef_current1.style.setProperty('--swipe-amount-y', `${swipeAmount.y}px`);\n        }\n    }, closeButton && !toast.jsx && toastType !== 'loading' ? /*#__PURE__*/ React.createElement(\"button\", {\n        \"aria-label\": closeButtonAriaLabel,\n        \"data-disabled\": disabled,\n        \"data-close-button\": true,\n        onClick: disabled || !dismissible ? ()=>{} : ()=>{\n            deleteToast();\n            toast.onDismiss == null ? void 0 : toast.onDismiss.call(toast, toast);\n        },\n        className: cn(classNames == null ? void 0 : classNames.closeButton, toast == null ? void 0 : (_toast_classNames2 = toast.classNames) == null ? void 0 : _toast_classNames2.closeButton)\n    }, (_icons_close = icons == null ? void 0 : icons.close) != null ? _icons_close : CloseIcon) : null, (toastType || toast.icon || toast.promise) && toast.icon !== null && ((icons == null ? void 0 : icons[toastType]) !== null || toast.icon) ? /*#__PURE__*/ React.createElement(\"div\", {\n        \"data-icon\": \"\",\n        className: cn(classNames == null ? void 0 : classNames.icon, toast == null ? void 0 : (_toast_classNames3 = toast.classNames) == null ? void 0 : _toast_classNames3.icon)\n    }, toast.promise || toast.type === 'loading' && !toast.icon ? toast.icon || getLoadingIcon() : null, toast.type !== 'loading' ? icon : null) : null, /*#__PURE__*/ React.createElement(\"div\", {\n        \"data-content\": \"\",\n        className: cn(classNames == null ? void 0 : classNames.content, toast == null ? void 0 : (_toast_classNames4 = toast.classNames) == null ? void 0 : _toast_classNames4.content)\n    }, /*#__PURE__*/ React.createElement(\"div\", {\n        \"data-title\": \"\",\n        className: cn(classNames == null ? void 0 : classNames.title, toast == null ? void 0 : (_toast_classNames5 = toast.classNames) == null ? void 0 : _toast_classNames5.title)\n    }, toast.jsx ? toast.jsx : typeof toast.title === 'function' ? toast.title() : toast.title), toast.description ? /*#__PURE__*/ React.createElement(\"div\", {\n        \"data-description\": \"\",\n        className: cn(descriptionClassName, toastDescriptionClassname, classNames == null ? void 0 : classNames.description, toast == null ? void 0 : (_toast_classNames6 = toast.classNames) == null ? void 0 : _toast_classNames6.description)\n    }, typeof toast.description === 'function' ? toast.description() : toast.description) : null), /*#__PURE__*/ React.isValidElement(toast.cancel) ? toast.cancel : toast.cancel && isAction(toast.cancel) ? /*#__PURE__*/ React.createElement(\"button\", {\n        \"data-button\": true,\n        \"data-cancel\": true,\n        style: toast.cancelButtonStyle || cancelButtonStyle,\n        onClick: (event)=>{\n            // We need to check twice because typescript\n            if (!isAction(toast.cancel)) return;\n            if (!dismissible) return;\n            toast.cancel.onClick == null ? void 0 : toast.cancel.onClick.call(toast.cancel, event);\n            deleteToast();\n        },\n        className: cn(classNames == null ? void 0 : classNames.cancelButton, toast == null ? void 0 : (_toast_classNames7 = toast.classNames) == null ? void 0 : _toast_classNames7.cancelButton)\n    }, toast.cancel.label) : null, /*#__PURE__*/ React.isValidElement(toast.action) ? toast.action : toast.action && isAction(toast.action) ? /*#__PURE__*/ React.createElement(\"button\", {\n        \"data-button\": true,\n        \"data-action\": true,\n        style: toast.actionButtonStyle || actionButtonStyle,\n        onClick: (event)=>{\n            // We need to check twice because typescript\n            if (!isAction(toast.action)) return;\n            toast.action.onClick == null ? void 0 : toast.action.onClick.call(toast.action, event);\n            if (event.defaultPrevented) return;\n            deleteToast();\n        },\n        className: cn(classNames == null ? void 0 : classNames.actionButton, toast == null ? void 0 : (_toast_classNames8 = toast.classNames) == null ? void 0 : _toast_classNames8.actionButton)\n    }, toast.action.label) : null);\n};\nfunction getDocumentDirection() {\n    if (typeof window === 'undefined') return 'ltr';\n    if (typeof document === 'undefined') return 'ltr'; // For Fresh purpose\n    const dirAttribute = document.documentElement.getAttribute('dir');\n    if (dirAttribute === 'auto' || !dirAttribute) {\n        return window.getComputedStyle(document.documentElement).direction;\n    }\n    return dirAttribute;\n}\nfunction assignOffset(defaultOffset, mobileOffset) {\n    const styles = {};\n    [\n        defaultOffset,\n        mobileOffset\n    ].forEach((offset, index)=>{\n        const isMobile = index === 1;\n        const prefix = isMobile ? '--mobile-offset' : '--offset';\n        const defaultValue = isMobile ? MOBILE_VIEWPORT_OFFSET : VIEWPORT_OFFSET;\n        function assignAll(offset) {\n            [\n                'top',\n                'right',\n                'bottom',\n                'left'\n            ].forEach((key)=>{\n                styles[`${prefix}-${key}`] = typeof offset === 'number' ? `${offset}px` : offset;\n            });\n        }\n        if (typeof offset === 'number' || typeof offset === 'string') {\n            assignAll(offset);\n        } else if (typeof offset === 'object') {\n            [\n                'top',\n                'right',\n                'bottom',\n                'left'\n            ].forEach((key)=>{\n                if (offset[key] === undefined) {\n                    styles[`${prefix}-${key}`] = defaultValue;\n                } else {\n                    styles[`${prefix}-${key}`] = typeof offset[key] === 'number' ? `${offset[key]}px` : offset[key];\n                }\n            });\n        } else {\n            assignAll(defaultValue);\n        }\n    });\n    return styles;\n}\nfunction useSonner() {\n    const [activeToasts, setActiveToasts] = React.useState([]);\n    React.useEffect(()=>{\n        return ToastState.subscribe((toast)=>{\n            if (toast.dismiss) {\n                setTimeout(()=>{\n                    ReactDOM.flushSync(()=>{\n                        setActiveToasts((toasts)=>toasts.filter((t)=>t.id !== toast.id));\n                    });\n                });\n                return;\n            }\n            // Prevent batching, temp solution.\n            setTimeout(()=>{\n                ReactDOM.flushSync(()=>{\n                    setActiveToasts((toasts)=>{\n                        const indexOfExistingToast = toasts.findIndex((t)=>t.id === toast.id);\n                        // Update the toast if it already exists\n                        if (indexOfExistingToast !== -1) {\n                            return [\n                                ...toasts.slice(0, indexOfExistingToast),\n                                {\n                                    ...toasts[indexOfExistingToast],\n                                    ...toast\n                                },\n                                ...toasts.slice(indexOfExistingToast + 1)\n                            ];\n                        }\n                        return [\n                            toast,\n                            ...toasts\n                        ];\n                    });\n                });\n            });\n        });\n    }, []);\n    return {\n        toasts: activeToasts\n    };\n}\nconst Toaster = /*#__PURE__*/ React.forwardRef(function Toaster(props, ref) {\n    const { id, invert, position = 'bottom-right', hotkey = [\n        'altKey',\n        'KeyT'\n    ], expand, closeButton, className, offset, mobileOffset, theme = 'light', richColors, duration, style, visibleToasts = VISIBLE_TOASTS_AMOUNT, toastOptions, dir = getDocumentDirection(), gap = GAP, icons, containerAriaLabel = 'Notifications' } = props;\n    const [toasts, setToasts] = React.useState([]);\n    const filteredToasts = React.useMemo(()=>{\n        if (id) {\n            return toasts.filter((toast)=>toast.toasterId === id);\n        }\n        return toasts.filter((toast)=>!toast.toasterId);\n    }, [\n        toasts,\n        id\n    ]);\n    const possiblePositions = React.useMemo(()=>{\n        return Array.from(new Set([\n            position\n        ].concat(filteredToasts.filter((toast)=>toast.position).map((toast)=>toast.position))));\n    }, [\n        filteredToasts,\n        position\n    ]);\n    const [heights, setHeights] = React.useState([]);\n    const [expanded, setExpanded] = React.useState(false);\n    const [interacting, setInteracting] = React.useState(false);\n    const [actualTheme, setActualTheme] = React.useState(theme !== 'system' ? theme : typeof window !== 'undefined' ? window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light' : 'light');\n    const listRef = React.useRef(null);\n    const hotkeyLabel = hotkey.join('+').replace(/Key/g, '').replace(/Digit/g, '');\n    const lastFocusedElementRef = React.useRef(null);\n    const isFocusWithinRef = React.useRef(false);\n    const removeToast = React.useCallback((toastToRemove)=>{\n        setToasts((toasts)=>{\n            var _toasts_find;\n            if (!((_toasts_find = toasts.find((toast)=>toast.id === toastToRemove.id)) == null ? void 0 : _toasts_find.delete)) {\n                ToastState.dismiss(toastToRemove.id);\n            }\n            return toasts.filter(({ id })=>id !== toastToRemove.id);\n        });\n    }, []);\n    React.useEffect(()=>{\n        return ToastState.subscribe((toast)=>{\n            if (toast.dismiss) {\n                // Prevent batching of other state updates\n                requestAnimationFrame(()=>{\n                    setToasts((toasts)=>toasts.map((t)=>t.id === toast.id ? {\n                                ...t,\n                                delete: true\n                            } : t));\n                });\n                return;\n            }\n            // Prevent batching, temp solution.\n            setTimeout(()=>{\n                ReactDOM.flushSync(()=>{\n                    setToasts((toasts)=>{\n                        const indexOfExistingToast = toasts.findIndex((t)=>t.id === toast.id);\n                        // Update the toast if it already exists\n                        if (indexOfExistingToast !== -1) {\n                            return [\n                                ...toasts.slice(0, indexOfExistingToast),\n                                {\n                                    ...toasts[indexOfExistingToast],\n                                    ...toast\n                                },\n                                ...toasts.slice(indexOfExistingToast + 1)\n                            ];\n                        }\n                        return [\n                            toast,\n                            ...toasts\n                        ];\n                    });\n                });\n            });\n        });\n    }, [\n        toasts\n    ]);\n    React.useEffect(()=>{\n        if (theme !== 'system') {\n            setActualTheme(theme);\n            return;\n        }\n        if (theme === 'system') {\n            // check if current preference is dark\n            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n                // it's currently dark\n                setActualTheme('dark');\n            } else {\n                // it's not dark\n                setActualTheme('light');\n            }\n        }\n        if (typeof window === 'undefined') return;\n        const darkMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n        try {\n            // Chrome & Firefox\n            darkMediaQuery.addEventListener('change', ({ matches })=>{\n                if (matches) {\n                    setActualTheme('dark');\n                } else {\n                    setActualTheme('light');\n                }\n            });\n        } catch (error) {\n            // Safari < 14\n            darkMediaQuery.addListener(({ matches })=>{\n                try {\n                    if (matches) {\n                        setActualTheme('dark');\n                    } else {\n                        setActualTheme('light');\n                    }\n                } catch (e) {\n                    console.error(e);\n                }\n            });\n        }\n    }, [\n        theme\n    ]);\n    React.useEffect(()=>{\n        // Ensure expanded is always false when no toasts are present / only one left\n        if (toasts.length <= 1) {\n            setExpanded(false);\n        }\n    }, [\n        toasts\n    ]);\n    React.useEffect(()=>{\n        const handleKeyDown = (event)=>{\n            var _listRef_current;\n            const isHotkeyPressed = hotkey.every((key)=>event[key] || event.code === key);\n            if (isHotkeyPressed) {\n                var _listRef_current1;\n                setExpanded(true);\n                (_listRef_current1 = listRef.current) == null ? void 0 : _listRef_current1.focus();\n            }\n            if (event.code === 'Escape' && (document.activeElement === listRef.current || ((_listRef_current = listRef.current) == null ? void 0 : _listRef_current.contains(document.activeElement)))) {\n                setExpanded(false);\n            }\n        };\n        document.addEventListener('keydown', handleKeyDown);\n        return ()=>document.removeEventListener('keydown', handleKeyDown);\n    }, [\n        hotkey\n    ]);\n    React.useEffect(()=>{\n        if (listRef.current) {\n            return ()=>{\n                if (lastFocusedElementRef.current) {\n                    lastFocusedElementRef.current.focus({\n                        preventScroll: true\n                    });\n                    lastFocusedElementRef.current = null;\n                    isFocusWithinRef.current = false;\n                }\n            };\n        }\n    }, [\n        listRef.current\n    ]);\n    return(// Remove item from normal navigation flow, only available via hotkey\n    /*#__PURE__*/ React.createElement(\"section\", {\n        ref: ref,\n        \"aria-label\": `${containerAriaLabel} ${hotkeyLabel}`,\n        tabIndex: -1,\n        \"aria-live\": \"polite\",\n        \"aria-relevant\": \"additions text\",\n        \"aria-atomic\": \"false\",\n        suppressHydrationWarning: true\n    }, possiblePositions.map((position, index)=>{\n        var _heights_;\n        const [y, x] = position.split('-');\n        if (!filteredToasts.length) return null;\n        return /*#__PURE__*/ React.createElement(\"ol\", {\n            key: position,\n            dir: dir === 'auto' ? getDocumentDirection() : dir,\n            tabIndex: -1,\n            ref: listRef,\n            className: className,\n            \"data-sonner-toaster\": true,\n            \"data-sonner-theme\": actualTheme,\n            \"data-y-position\": y,\n            \"data-x-position\": x,\n            style: {\n                '--front-toast-height': `${((_heights_ = heights[0]) == null ? void 0 : _heights_.height) || 0}px`,\n                '--width': `${TOAST_WIDTH}px`,\n                '--gap': `${gap}px`,\n                ...style,\n                ...assignOffset(offset, mobileOffset)\n            },\n            onBlur: (event)=>{\n                if (isFocusWithinRef.current && !event.currentTarget.contains(event.relatedTarget)) {\n                    isFocusWithinRef.current = false;\n                    if (lastFocusedElementRef.current) {\n                        lastFocusedElementRef.current.focus({\n                            preventScroll: true\n                        });\n                        lastFocusedElementRef.current = null;\n                    }\n                }\n            },\n            onFocus: (event)=>{\n                const isNotDismissible = event.target instanceof HTMLElement && event.target.dataset.dismissible === 'false';\n                if (isNotDismissible) return;\n                if (!isFocusWithinRef.current) {\n                    isFocusWithinRef.current = true;\n                    lastFocusedElementRef.current = event.relatedTarget;\n                }\n            },\n            onMouseEnter: ()=>setExpanded(true),\n            onMouseMove: ()=>setExpanded(true),\n            onMouseLeave: ()=>{\n                // Avoid setting expanded to false when interacting with a toast, e.g. swiping\n                if (!interacting) {\n                    setExpanded(false);\n                }\n            },\n            onDragEnd: ()=>setExpanded(false),\n            onPointerDown: (event)=>{\n                const isNotDismissible = event.target instanceof HTMLElement && event.target.dataset.dismissible === 'false';\n                if (isNotDismissible) return;\n                setInteracting(true);\n            },\n            onPointerUp: ()=>setInteracting(false)\n        }, filteredToasts.filter((toast)=>!toast.position && index === 0 || toast.position === position).map((toast, index)=>{\n            var _toastOptions_duration, _toastOptions_closeButton;\n            return /*#__PURE__*/ React.createElement(Toast, {\n                key: toast.id,\n                icons: icons,\n                index: index,\n                toast: toast,\n                defaultRichColors: richColors,\n                duration: (_toastOptions_duration = toastOptions == null ? void 0 : toastOptions.duration) != null ? _toastOptions_duration : duration,\n                className: toastOptions == null ? void 0 : toastOptions.className,\n                descriptionClassName: toastOptions == null ? void 0 : toastOptions.descriptionClassName,\n                invert: invert,\n                visibleToasts: visibleToasts,\n                closeButton: (_toastOptions_closeButton = toastOptions == null ? void 0 : toastOptions.closeButton) != null ? _toastOptions_closeButton : closeButton,\n                interacting: interacting,\n                position: position,\n                style: toastOptions == null ? void 0 : toastOptions.style,\n                unstyled: toastOptions == null ? void 0 : toastOptions.unstyled,\n                classNames: toastOptions == null ? void 0 : toastOptions.classNames,\n                cancelButtonStyle: toastOptions == null ? void 0 : toastOptions.cancelButtonStyle,\n                actionButtonStyle: toastOptions == null ? void 0 : toastOptions.actionButtonStyle,\n                closeButtonAriaLabel: toastOptions == null ? void 0 : toastOptions.closeButtonAriaLabel,\n                removeToast: removeToast,\n                toasts: filteredToasts.filter((t)=>t.position == toast.position),\n                heights: heights.filter((h)=>h.position == toast.position),\n                setHeights: setHeights,\n                expandByDefault: expand,\n                gap: gap,\n                expanded: expanded,\n                swipeDirections: props.swipeDirections\n            });\n        }));\n    })));\n});\n\nexport { Toaster, toast, useSonner };\n","import React from 'react';\nimport { createStore } from 'zustand/vanilla';\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = React.useSyncExternalStore(\n    api.subscribe,\n    React.useCallback(() => selector(api.getState()), [api, selector]),\n    React.useCallback(() => selector(api.getInitialState()), [api, selector])\n  );\n  React.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = ((createState) => createState ? createImpl(createState) : createImpl);\n\nexport { create, useStore };\n","/**\r\n * Design tokens for the Warm Tactical Professionalism aesthetic.\r\n */\r\n\r\nexport const DESIGN_TOKENS = {\r\n    colors: {\r\n        primary: '#1A3D1A',           // Pitch Green\r\n        background: '#F8F9FA',        // Tactics White\r\n        surface: '#FFFFFF',\r\n        surfaceWarm: '#F9FAFB',       // Warm surface alternative\r\n        border: '#1A3D1A',\r\n        textPrimary: '#111827',       // Deep charcoal for enhanced contrast\r\n        textInverse: '#F8F9FA',\r\n        accentWarm: '#D97706',        // Warm amber accent\r\n\r\n        // Team colors\r\n        attack: ['#2563EB', '#10B981', '#06B6D4', '#8B5CF6'],\r\n        defense: ['#DC2626', '#EA580C', '#F59E0B', '#EF4444'],\r\n        neutral: ['#FFFFFF', '#8B4513', '#FFD700', '#FF6B35'],  // White, brown leather, gold, orange\r\n\r\n        // Annotation color (tactical yellow - high visibility)\r\n        annotation: '#FACC15',\r\n    },\r\n    typography: {\r\n        fontMono: \"'JetBrains Mono', 'Fira Code', monospace\",\r\n        fontHeading: \"'Inter', 'Helvetica Neue', sans-serif\",\r\n        fontBody: \"'Inter', system-ui, sans-serif\",\r\n    },\r\n    spacing: {\r\n        unit: 4,\r\n        borderRadius: 0,\r\n        borderWidth: 1,\r\n    },\r\n} as const;\r\n","/**\r\n * Validation constants for the Rugby Animation Tool.\r\n */\r\n\r\nexport const VALIDATION = {\r\n    PROJECT: {\r\n        NAME_MAX_LENGTH: 100,\r\n        MAX_FRAMES: 50,\r\n        SUPPORTED_VERSIONS: ['1.0'] as const,\r\n    },\r\n    ENTITY: {\r\n        LABEL_MAX_LENGTH: 10,\r\n        LABEL_PATTERN: /^[\\w\\s\\-\\.]*$/,\r\n        COLOR_PATTERN: /^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/,\r\n        COORD_MIN: 0,\r\n        COORD_MAX: 2000,\r\n    },\r\n    FRAME: {\r\n        DURATION_MIN_MS: 100,\r\n        DURATION_MAX_MS: 10000,\r\n        DURATION_DEFAULT_MS: 2000,\r\n    },\r\n    ANNOTATION: {\r\n        MAX_POINTS: 100,\r\n    },\r\n    EXPORT: {\r\n        TIMEOUT_BUFFER_MS: 5000,\r\n        MAX_DURATION_MS: 300000,\r\n        RESOLUTIONS: {\r\n            '720p': { width: 1280, height: 720 },\r\n            '1080p': { width: 1920, height: 1080 },\r\n        },\r\n    },\r\n    STORAGE: {\r\n        MAX_SIZE_BYTES: 5 * 1024 * 1024,\r\n        AUTOSAVE_INTERVAL_MS: 30000,\r\n    },\r\n    RATE_LIMITS: {\r\n        EXPORT_COOLDOWN_MS: 5000,\r\n        SAVE_COOLDOWN_MS: 2000,\r\n    },\r\n} as const;\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n];\n\n/**\n * @component @name CircleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleAlert = createLucideIcon('circle-alert', __iconNode);\n\nexport default CircleAlert;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z', key: 'p7xjir' }],\n];\n\n/**\n * @component @name Cloud\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTcuNSAxOUg5YTcgNyAwIDEgMSA2LjcxLTloMS43OWE0LjUgNC41IDAgMSAxIDAgOVoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/cloud\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Cloud = createLucideIcon('cloud', __iconNode);\n\nexport default Cloud;\n","import { VALIDATION } from \"../constants/validation\";\r\n\r\n/**\r\n * Validation utilities for the Rugby Animation Tool.\r\n */\r\n\r\n/**\r\n * Validates a project name.\r\n * @param name - The project name\r\n * @returns true if valid, false otherwise\r\n */\r\nexport const validateProjectName = (name: string): boolean => {\r\n    return name.length >= 1 && name.length <= VALIDATION.PROJECT.NAME_MAX_LENGTH;\r\n};\r\n\r\n/**\r\n * Validates a hex color string.\r\n * @param color - The color string\r\n * @returns true if valid, false otherwise\r\n */\r\nexport const validateHexColor = (color: string): boolean => {\r\n    return VALIDATION.ENTITY.COLOR_PATTERN.test(color);\r\n};\r\n\r\n/**\r\n * Validates an entity label.\r\n * @param label - The entity label\r\n * @returns true if valid, false otherwise\r\n */\r\nexport const validateEntityLabel = (label: string): boolean => {\r\n    return label.length <= VALIDATION.ENTITY.LABEL_MAX_LENGTH &&\r\n        VALIDATION.ENTITY.LABEL_PATTERN.test(label);\r\n};\r\n\r\n/**\r\n * Validates canvas coordinates.\r\n * @param x - X coordinate\r\n * @param y - Y coordinate\r\n * @returns true if valid, false otherwise\r\n */\r\nexport const validateCoordinates = (x: number, y: number): boolean => {\r\n    return x >= VALIDATION.ENTITY.COORD_MIN && x <= VALIDATION.ENTITY.COORD_MAX &&\r\n        y >= VALIDATION.ENTITY.COORD_MIN && y <= VALIDATION.ENTITY.COORD_MAX;\r\n};\r\n\r\n/**\r\n * Validates frame duration.\r\n * @param duration - Duration in milliseconds\r\n * @returns true if valid, false otherwise\r\n */\r\nexport const validateFrameDuration = (duration: number): boolean => {\r\n    return Number.isInteger(duration) &&\r\n        duration >= VALIDATION.FRAME.DURATION_MIN_MS &&\r\n        duration <= VALIDATION.FRAME.DURATION_MAX_MS;\r\n};\r\n\r\n/**\r\n * Validates a UUID v4 string (basic format check).\r\n * @param uuid - The UUID string\r\n * @returns true if valid, false otherwise\r\n */\r\nexport const validateUUID = (uuid: string): boolean => {\r\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\r\n    return uuidRegex.test(uuid);\r\n};\r\n\r\n/**\r\n * Validates a complete project object against the schema.\r\n * @param data - Unknown data to validate\r\n * @returns Object with success flag and error/warning messages\r\n */\r\nexport const validateProject = (data: unknown): {\r\n    success: boolean;\r\n    errors: string[];\r\n    warnings: string[];\r\n} => {\r\n    const errors: string[] = [];\r\n    const warnings: string[] = [];\r\n\r\n    // Type guard: Check if data is an object\r\n    if (!data || typeof data !== 'object') {\r\n        errors.push('Invalid project data: expected an object');\r\n        return { success: false, errors, warnings };\r\n    }\r\n\r\n    const project = data as Record<string, unknown>;\r\n\r\n    // Required fields validation\r\n    if (typeof project.version !== 'string') {\r\n        errors.push('Missing or invalid \"version\" field');\r\n    }\r\n    if (typeof project.id !== 'string' || !validateUUID(project.id)) {\r\n        errors.push('Missing or invalid \"id\" field (must be UUID)');\r\n    }\r\n    if (typeof project.name !== 'string' || !validateProjectName(project.name)) {\r\n        errors.push('Missing or invalid \"name\" field');\r\n    }\r\n    if (!['rugby-union', 'rugby-league', 'soccer', 'american-football'].includes(project.sport as string)) {\r\n        errors.push('Invalid \"sport\" field');\r\n    }\r\n    if (typeof project.createdAt !== 'string') {\r\n        errors.push('Missing or invalid \"createdAt\" field');\r\n    }\r\n    if (typeof project.updatedAt !== 'string') {\r\n        errors.push('Missing or invalid \"updatedAt\" field');\r\n    }\r\n\r\n    // Frames validation\r\n    if (!Array.isArray(project.frames)) {\r\n        errors.push('Missing or invalid \"frames\" field (must be array)');\r\n    } else {\r\n        if (project.frames.length === 0) {\r\n            errors.push('Project must have at least one frame');\r\n        }\r\n        if (project.frames.length > VALIDATION.PROJECT.MAX_FRAMES) {\r\n            errors.push(`Too many frames (max: ${VALIDATION.PROJECT.MAX_FRAMES})`);\r\n        }\r\n\r\n        // Validate each frame\r\n        project.frames.forEach((frame: unknown, idx: number) => {\r\n            if (!frame || typeof frame !== 'object') {\r\n                errors.push(`Frame ${idx}: invalid frame object`);\r\n                return;\r\n            }\r\n            const f = frame as Record<string, unknown>;\r\n\r\n            if (typeof f.id !== 'string' || !validateUUID(f.id)) {\r\n                errors.push(`Frame ${idx}: invalid id`);\r\n            }\r\n            if (typeof f.index !== 'number' || f.index !== idx) {\r\n                errors.push(`Frame ${idx}: invalid index (expected ${idx})`);\r\n            }\r\n            if (typeof f.duration !== 'number' || !validateFrameDuration(f.duration)) {\r\n                errors.push(`Frame ${idx}: invalid duration`);\r\n            }\r\n            if (!f.entities || typeof f.entities !== 'object') {\r\n                errors.push(`Frame ${idx}: invalid entities object`);\r\n            } else {\r\n                // Validate entities\r\n                Object.entries(f.entities as Record<string, unknown>).forEach(([entityId, entity]) => {\r\n                    if (!entity || typeof entity !== 'object') {\r\n                        errors.push(`Frame ${idx}, Entity ${entityId}: invalid entity object`);\r\n                        return;\r\n                    }\r\n                    const e = entity as Record<string, unknown>;\r\n\r\n                    if (typeof e.id !== 'string' || !validateUUID(e.id)) {\r\n                        errors.push(`Frame ${idx}, Entity ${entityId}: invalid id`);\r\n                    }\r\n                    if (!['player', 'ball', 'cone', 'marker'].includes(e.type as string)) {\r\n                        errors.push(`Frame ${idx}, Entity ${entityId}: invalid type`);\r\n                    }\r\n                    if (typeof e.x !== 'number' || typeof e.y !== 'number' || !validateCoordinates(e.x, e.y)) {\r\n                        errors.push(`Frame ${idx}, Entity ${entityId}: invalid coordinates`);\r\n                    }\r\n                    if (typeof e.color !== 'string' || !validateHexColor(e.color)) {\r\n                        warnings.push(`Frame ${idx}, Entity ${entityId}: invalid color format`);\r\n                    }\r\n                    if (typeof e.label !== 'string' || !validateEntityLabel(e.label)) {\r\n                        warnings.push(`Frame ${idx}, Entity ${entityId}: invalid label`);\r\n                    }\r\n                    if (!['attack', 'defense', 'neutral'].includes(e.team as string)) {\r\n                        errors.push(`Frame ${idx}, Entity ${entityId}: invalid team`);\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (!Array.isArray(f.annotations)) {\r\n                errors.push(`Frame ${idx}: invalid annotations (must be array)`);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Settings validation\r\n    if (!project.settings || typeof project.settings !== 'object') {\r\n        errors.push('Missing or invalid \"settings\" object');\r\n    } else {\r\n        const s = project.settings as Record<string, unknown>;\r\n        if (typeof s.showGrid !== 'boolean') {\r\n            errors.push('Settings: invalid showGrid');\r\n        }\r\n        if (typeof s.gridSpacing !== 'number') {\r\n            errors.push('Settings: invalid gridSpacing');\r\n        }\r\n        if (typeof s.defaultTransitionDuration !== 'number') {\r\n            errors.push('Settings: invalid defaultTransitionDuration');\r\n        }\r\n        if (!['720p', '1080p'].includes(s.exportResolution as string)) {\r\n            errors.push('Settings: invalid exportResolution');\r\n        }\r\n    }\r\n\r\n    return {\r\n        success: errors.length === 0,\r\n        errors,\r\n        warnings,\r\n    };\r\n};\r\n","import { create } from 'zustand';\r\nimport { devtools } from 'zustand/middleware';\r\nimport { toast } from 'sonner';\r\nimport {\r\n    Project,\r\n    ProjectSettingsUpdate,\r\n    LoadResult,\r\n    FrameUpdate,\r\n    EntityCreate,\r\n    EntityUpdate,\r\n    AnnotationCreate,\r\n    AnnotationUpdate,\r\n    PlaybackSpeed,\r\n    PlaybackPosition,\r\n    Entity,\r\n    TeamType\r\n} from '../types';\r\nimport type { SharePayloadV1 } from '../types/share';\r\nimport { DESIGN_TOKENS } from '../constants/design-tokens';\r\nimport { VALIDATION } from '../constants/validation';\r\nimport { validateHexColor, validateEntityLabel, validateProject } from '../utils/validation';\r\n\r\nexport interface ProjectStoreState {\r\n    project: Project | null;\r\n    currentFrameIndex: number;\r\n    isPlaying: boolean;\r\n    isDirty: boolean;\r\n    playbackSpeed: PlaybackSpeed;\r\n    loopPlayback: boolean;\r\n    playbackPosition: PlaybackPosition | null;\r\n\r\n    newProject: () => void;\r\n    loadProject: (data: unknown) => LoadResult;\r\n    loadFromSharePayload: (payload: SharePayloadV1) => void;\r\n    saveProject: () => string;\r\n    updateProjectSettings: (updates: Partial<ProjectSettingsUpdate>) => void;\r\n\r\n    setCurrentFrame: (index: number) => void;\r\n    addFrame: () => void;\r\n    removeFrame: (frameId: string) => void;\r\n    duplicateFrame: (frameId: string) => void;\r\n    updateFrame: (frameId: string, updates: Partial<FrameUpdate>) => void;\r\n\r\n    addEntity: (entity: EntityCreate) => string;\r\n    updateEntity: (entityId: string, updates: Partial<EntityUpdate>) => void;\r\n    removeEntity: (entityId: string) => void;\r\n    removeEntityGlobally: (entityId: string) => void;\r\n    propagateEntity: (entityId: string) => void;\r\n\r\n    addAnnotation: (annotation: AnnotationCreate) => string;\r\n    updateAnnotation: (annotationId: string, updates: Partial<AnnotationUpdate>) => void;\r\n    removeAnnotation: (annotationId: string) => void;\r\n\r\n    play: () => void;\r\n    pause: () => void;\r\n    reset: () => void;\r\n    setPlaybackSpeed: (speed: PlaybackSpeed) => void;\r\n    toggleLoop: () => void;\r\n\r\n    setPlaybackPosition: (position: PlaybackPosition) => void;\r\n}\r\n\r\nexport const useProjectStore = create<ProjectStoreState>()(\r\n    devtools(\r\n        (set) => ({\r\n            project: null,\r\n            currentFrameIndex: 0,\r\n            isPlaying: false,\r\n            isDirty: false,\r\n            playbackSpeed: 1,\r\n            loopPlayback: false,\r\n            playbackPosition: null,\r\n\r\n            newProject: () => set(() => {\r\n                const projectId = crypto.randomUUID();\r\n                const frameId = crypto.randomUUID();\r\n                const now = new Date().toISOString();\r\n\r\n                const project: Project = {\r\n                    version: '1.0',\r\n                    id: projectId,\r\n                    name: 'Untitled Play',\r\n                    sport: 'rugby-union',\r\n                    createdAt: now,\r\n                    updatedAt: now,\r\n                    frames: [\r\n                        {\r\n                            id: frameId,\r\n                            index: 0,\r\n                            duration: 2000,\r\n                            entities: {},\r\n                            annotations: [],\r\n                        }\r\n                    ],\r\n                    settings: {\r\n                        showGrid: true,\r\n                        gridSpacing: 50,\r\n                        defaultTransitionDuration: 2000,\r\n                        exportResolution: '720p',\r\n                    },\r\n                };\r\n\r\n                return {\r\n                    project,\r\n                    currentFrameIndex: 0,\r\n                    isPlaying: false,\r\n                    isDirty: false,\r\n                    playbackSpeed: 1 as PlaybackSpeed,\r\n                    loopPlayback: false,\r\n                };\r\n            }),\r\n            loadProject: (data: unknown) => {\r\n                let result: LoadResult = { success: false, errors: [], warnings: [] };\r\n\r\n                set((state) => {\r\n                    // Validate the project data\r\n                    const validation = validateProject(data);\r\n\r\n                    if (!validation.success) {\r\n                        result = {\r\n                            success: false,\r\n                            errors: validation.errors,\r\n                            warnings: validation.warnings,\r\n                        };\r\n                        return state; // Return unchanged state on validation failure\r\n                    }\r\n\r\n                    // If validation passed, cast to Project type\r\n                    const project = data as Project;\r\n\r\n                    // Success: Load the project into state\r\n                    result = {\r\n                        success: true,\r\n                        errors: [],\r\n                        warnings: validation.warnings,\r\n                    };\r\n\r\n                    return {\r\n                        ...state,\r\n                        project,\r\n                        currentFrameIndex: 0,\r\n                        isPlaying: false,\r\n                        isDirty: false,\r\n                        playbackSpeed: 1 as PlaybackSpeed,\r\n                        loopPlayback: false,\r\n                    };\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            loadFromSharePayload: (payload: SharePayloadV1) => set((state) => {\r\n                const now = new Date().toISOString();\r\n                const projectId = crypto.randomUUID();\r\n\r\n                // Reconstruct frames\r\n                const frames = [];\r\n                let currentEntities: Record<string, Entity> = {};\r\n\r\n                // Initialize entities from payload (base state)\r\n                payload.entities.forEach(e => {\r\n                    currentEntities[e.id] = {\r\n                        id: e.id,\r\n                        type: e.type,\r\n                        team: e.team === 'defence' ? 'defense' : e.team as TeamType,\r\n                        // Default values for missing fields\r\n                        color: e.team === 'attack' ? DESIGN_TOKENS.colors.attack[0] : (e.team === 'defence' ? DESIGN_TOKENS.colors.defense[0] : '#ffffff'),\r\n                        label: '',\r\n                        x: e.x,\r\n                        y: e.y\r\n                    };\r\n                });\r\n\r\n                // Process frames\r\n                for (let i = 0; i < payload.frames.length; i++) {\r\n                    const frameData = payload.frames[i];\r\n                    const nextFrameData = payload.frames[i + 1];\r\n\r\n                    // Apply updates to current entities\r\n                    if (frameData.updates) {\r\n                        frameData.updates.forEach(u => {\r\n                            if (currentEntities[u.id]) {\r\n                                currentEntities[u.id] = { ...currentEntities[u.id], x: u.x, y: u.y };\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                    // Calculate duration\r\n                    // If there is a next frame, duration is (next.t - current.t) * 1000\r\n                    // If last frame, default to 2000ms\r\n                    const duration = nextFrameData\r\n                        ? (nextFrameData.t - frameData.t) * 1000\r\n                        : 2000;\r\n\r\n                    frames.push({\r\n                        id: crypto.randomUUID(),\r\n                        index: i,\r\n                        duration,\r\n                        entities: { ...currentEntities }, // Clone entities state\r\n                        annotations: []\r\n                    });\r\n                }\r\n\r\n                // If no frames (edge case), create one\r\n                if (frames.length === 0) {\r\n                    frames.push({\r\n                        id: crypto.randomUUID(),\r\n                        index: 0,\r\n                        duration: 2000,\r\n                        entities: { ...currentEntities },\r\n                        annotations: []\r\n                    });\r\n                }\r\n\r\n                const project: Project = {\r\n                    version: '1.0',\r\n                    id: projectId,\r\n                    name: 'Shared Animation',\r\n                    sport: 'rugby-union', // Default or need to infer? inferred usually\r\n                    createdAt: now,\r\n                    updatedAt: now,\r\n                    frames,\r\n                    settings: {\r\n                        showGrid: false,\r\n                        gridSpacing: 50,\r\n                        defaultTransitionDuration: 1000,\r\n                        exportResolution: '720p'\r\n                    }\r\n                };\r\n\r\n                return {\r\n                    ...state,\r\n                    project,\r\n                    currentFrameIndex: 0,\r\n                    isPlaying: false,\r\n                    isDirty: false,\r\n                    playbackSpeed: 1,\r\n                    loopPlayback: true // Default to loop for shared views\r\n                };\r\n            }),\r\n\r\n\r\n            saveProject: () => {\r\n                let jsonString = '';\r\n\r\n                set((state) => {\r\n                    if (!state.project) {\r\n                        return state;\r\n                    }\r\n\r\n                    // Update the project's updatedAt timestamp\r\n                    const updatedProject = {\r\n                        ...state.project,\r\n                        updatedAt: new Date().toISOString(),\r\n                    };\r\n\r\n                    // Serialize to JSON\r\n                    jsonString = JSON.stringify(updatedProject, null, 2);\r\n\r\n                    // Mark as not dirty since we're saving\r\n                    return {\r\n                        ...state,\r\n                        project: updatedProject,\r\n                        isDirty: false,\r\n                    };\r\n                });\r\n\r\n                return jsonString;\r\n            },\r\n            updateProjectSettings: (updates: Partial<ProjectSettingsUpdate>) => set((state) => {\r\n                if (!state.project) return state;\r\n\r\n                const now = new Date().toISOString();\r\n\r\n                return {\r\n                    project: {\r\n                        ...state.project,\r\n                        // Update top-level project fields\r\n                        ...(updates.name !== undefined && { name: updates.name }),\r\n                        ...(updates.sport !== undefined && { sport: updates.sport }),\r\n                        updatedAt: now,\r\n                        // Update settings object\r\n                        settings: {\r\n                            ...state.project.settings,\r\n                            ...(updates.showGrid !== undefined && { showGrid: updates.showGrid }),\r\n                            ...(updates.gridSpacing !== undefined && { gridSpacing: updates.gridSpacing }),\r\n                            ...(updates.defaultTransitionDuration !== undefined && { defaultTransitionDuration: updates.defaultTransitionDuration }),\r\n                            ...(updates.exportResolution !== undefined && { exportResolution: updates.exportResolution }),\r\n                        },\r\n                    },\r\n                    isDirty: true,\r\n                };\r\n            }),\r\n\r\n            setCurrentFrame: (index: number) => set((state) => {\r\n                // Guard: Return if no project\r\n                if (!state.project) return state;\r\n\r\n                // Guard: Return if index is out of bounds\r\n                if (index < 0 || index >= state.project.frames.length) {\r\n                    return state;\r\n                }\r\n\r\n                // Update frame index WITHOUT stopping playback\r\n                // This allows animation loop to progress through frames\r\n                return {\r\n                    ...state,\r\n                    currentFrameIndex: index,\r\n                };\r\n            }),\r\n\r\n            addFrame: () => set((state) => {\r\n                // Guard: Return if no project\r\n                if (!state.project) return state;\r\n\r\n                // Guard: Check 50-frame limit per FR-FRM-01 and Edge Case validation\r\n                if (state.project.frames.length >= VALIDATION.PROJECT.MAX_FRAMES) {\r\n                    console.warn(`Maximum frames reached (${VALIDATION.PROJECT.MAX_FRAMES})`);\r\n                    // Show user-friendly toast message\r\n                    toast.error(`Maximum frames reached. You can have up to ${VALIDATION.PROJECT.MAX_FRAMES} frames in a project.`);\r\n                    return state;\r\n                }\r\n\r\n                // Get current frame\r\n                const currentFrame = state.project.frames[state.currentFrameIndex];\r\n\r\n                // Create new frame with copied entities\r\n                const newFrameId = crypto.randomUUID();\r\n                const newFrame = {\r\n                    id: newFrameId,\r\n                    index: state.currentFrameIndex + 1,\r\n                    duration: state.project.settings.defaultTransitionDuration,\r\n                    entities: { ...currentFrame.entities },\r\n                    annotations: [],\r\n                };\r\n\r\n                // Insert new frame after current frame and update indices\r\n                const updatedFrames = state.project.frames.map((frame) => ({\r\n                    ...frame,\r\n                    index: frame.index > state.currentFrameIndex ? frame.index + 1 : frame.index\r\n                }));\r\n                updatedFrames.splice(state.currentFrameIndex + 1, 0, newFrame);\r\n\r\n                return {\r\n                    ...state,\r\n                    project: {\r\n                        ...state.project,\r\n                        updatedAt: new Date().toISOString(),\r\n                        frames: updatedFrames,\r\n                    },\r\n                    currentFrameIndex: state.currentFrameIndex + 1,\r\n                    isDirty: true,\r\n                };\r\n            }),\r\n\r\n            removeFrame: (frameId: string) => set((state) => {\r\n                // Guard: Return if no project\r\n                if (!state.project) return state;\r\n\r\n                // Guard: Prevent deletion if only one frame remains\r\n                if (state.project.frames.length <= 1) return state;\r\n\r\n                // Find frame index\r\n                const frameIndex = state.project.frames.findIndex(f => f.id === frameId);\r\n                if (frameIndex === -1) return state;\r\n\r\n                // Remove frame and update indices\r\n                const updatedFrames = state.project.frames\r\n                    .filter((_, idx) => idx !== frameIndex)\r\n                    .map((frame, idx) => ({ ...frame, index: idx }));\r\n\r\n                // Adjust currentFrameIndex if needed\r\n                let newCurrentFrameIndex = state.currentFrameIndex;\r\n                if (frameIndex < state.currentFrameIndex) {\r\n                    newCurrentFrameIndex = state.currentFrameIndex - 1;\r\n                } else if (frameIndex === state.currentFrameIndex && frameIndex === state.project.frames.length - 1) {\r\n                    newCurrentFrameIndex = state.currentFrameIndex - 1;\r\n                }\r\n\r\n                return {\r\n                    ...state,\r\n                    project: {\r\n                        ...state.project,\r\n                        updatedAt: new Date().toISOString(),\r\n                        frames: updatedFrames,\r\n                    },\r\n                    currentFrameIndex: newCurrentFrameIndex,\r\n                    isDirty: true,\r\n                };\r\n            }),\r\n\r\n            duplicateFrame: (frameId: string) => set((state) => {\r\n                // Guard: Return if no project\r\n                if (!state.project) return state;\r\n\r\n                // Find frame index\r\n                const frameIndex = state.project.frames.findIndex(f => f.id === frameId);\r\n                if (frameIndex === -1) return state;\r\n\r\n                // Clone the frame\r\n                const frameToClone = state.project.frames[frameIndex];\r\n                const newFrameId = crypto.randomUUID();\r\n                const clonedFrame = {\r\n                    id: newFrameId,\r\n                    index: frameIndex + 1,\r\n                    duration: frameToClone.duration,\r\n                    entities: { ...frameToClone.entities },\r\n                    annotations: [...frameToClone.annotations],\r\n                };\r\n\r\n                // Insert cloned frame and update indices\r\n                const updatedFrames = state.project.frames.map((frame) => ({\r\n                    ...frame,\r\n                    index: frame.index > frameIndex ? frame.index + 1 : frame.index\r\n                }));\r\n                updatedFrames.splice(frameIndex + 1, 0, clonedFrame);\r\n\r\n                return {\r\n                    ...state,\r\n                    project: {\r\n                        ...state.project,\r\n                        updatedAt: new Date().toISOString(),\r\n                        frames: updatedFrames,\r\n                    },\r\n                    isDirty: true,\r\n                };\r\n            }),\r\n\r\n            updateFrame: (frameId: string, updates: Partial<FrameUpdate>) => set((state) => {\r\n                // Guard: Return if no project\r\n                if (!state.project) return state;\r\n\r\n                // Find frame\r\n                const frameIndex = state.project.frames.findIndex(f => f.id === frameId);\r\n                if (frameIndex === -1) return state;\r\n\r\n                // Apply updates\r\n                const updatedFrames = state.project.frames.map((frame, idx) => {\r\n                    if (idx !== frameIndex) return frame;\r\n\r\n                    const updatedFrame = { ...frame };\r\n                    if (updates.duration !== undefined) {\r\n                        updatedFrame.duration = Math.max(\r\n                            VALIDATION.FRAME.DURATION_MIN_MS,\r\n                            Math.min(VALIDATION.FRAME.DURATION_MAX_MS, updates.duration)\r\n                        );\r\n                    }\r\n                    return updatedFrame;\r\n                });\r\n\r\n                return {\r\n                    ...state,\r\n                    project: {\r\n                        ...state.project,\r\n                        updatedAt: new Date().toISOString(),\r\n                        frames: updatedFrames,\r\n                    },\r\n                    isDirty: true,\r\n                };\r\n            }),\r\n\r\n            addEntity: (entity: EntityCreate) => {\r\n                let newEntityId = '';\r\n\r\n                set((state) => {\r\n                    // Guard: Return if no project\r\n                    if (!state.project) return state;\r\n\r\n                    // Guard: Return if currentFrameIndex is out of bounds\r\n                    if (state.currentFrameIndex < 0 || state.currentFrameIndex >= state.project.frames.length) {\r\n                        return state;\r\n                    }\r\n\r\n                    // Generate new entity ID\r\n                    newEntityId = crypto.randomUUID();\r\n\r\n                    // Apply defaults\r\n                    const team = entity.team ?? 'neutral';\r\n                    const color = entity.color ?? DESIGN_TOKENS.colors[team][0];\r\n                    const label = entity.label ?? '';\r\n\r\n                    // Clamp coordinates to [0, 2000]\r\n                    const clamp = (value: number, min: number, max: number) =>\r\n                        Math.max(min, Math.min(max, value));\r\n\r\n                    const x = clamp(entity.x, VALIDATION.ENTITY.COORD_MIN, VALIDATION.ENTITY.COORD_MAX);\r\n                    const y = clamp(entity.y, VALIDATION.ENTITY.COORD_MIN, VALIDATION.ENTITY.COORD_MAX);\r\n\r\n                    // Create full entity object\r\n                    const newEntity: Entity = {\r\n                        id: newEntityId,\r\n                        type: entity.type,\r\n                        x,\r\n                        y,\r\n                        color,\r\n                        label,\r\n                        team,\r\n                    };\r\n\r\n                    // Get current frame and add entity\r\n                    const currentFrame = state.project.frames[state.currentFrameIndex];\r\n                    const updatedEntities = {\r\n                        ...currentFrame.entities,\r\n                        [newEntityId]: newEntity,\r\n                    };\r\n\r\n                    // Return updated state\r\n                    return {\r\n                        ...state,\r\n                        project: {\r\n                            ...state.project,\r\n                            updatedAt: new Date().toISOString(),\r\n                            frames: state.project.frames.map((frame, idx) =>\r\n                                idx === state.currentFrameIndex\r\n                                    ? { ...frame, entities: updatedEntities }\r\n                                    : frame\r\n                            ),\r\n                        },\r\n                        isDirty: true,\r\n                    };\r\n                });\r\n\r\n                return newEntityId;\r\n            },\r\n\r\n            updateEntity: (entityId: string, updates: Partial<EntityUpdate>) => set((state) => {\r\n                // Guard: Return if no project\r\n                if (!state.project) return state;\r\n\r\n                // Guard: Return if currentFrameIndex is out of bounds\r\n                if (state.currentFrameIndex < 0 || state.currentFrameIndex >= state.project.frames.length) {\r\n                    return state;\r\n                }\r\n\r\n                // Get current frame\r\n                const currentFrame = state.project.frames[state.currentFrameIndex];\r\n\r\n                // Guard: Return if entity doesn't exist\r\n                if (!currentFrame.entities[entityId]) return state;\r\n\r\n                // Get current entity\r\n                const entity = currentFrame.entities[entityId];\r\n\r\n                // Process updates\r\n                const processedUpdates: Partial<Entity> = {};\r\n\r\n                // Clamp coordinates if provided\r\n                const clamp = (value: number, min: number, max: number) =>\r\n                    Math.max(min, Math.min(max, value));\r\n\r\n                if (updates.x !== undefined) {\r\n                    processedUpdates.x = clamp(updates.x, VALIDATION.ENTITY.COORD_MIN, VALIDATION.ENTITY.COORD_MAX);\r\n                }\r\n                if (updates.y !== undefined) {\r\n                    processedUpdates.y = clamp(updates.y, VALIDATION.ENTITY.COORD_MIN, VALIDATION.ENTITY.COORD_MAX);\r\n                }\r\n\r\n                // Validate color if provided (lenient: warn but allow)\r\n                if (updates.color !== undefined) {\r\n                    if (!validateHexColor(updates.color)) {\r\n                        console.warn(`Invalid hex color format: ${updates.color}. Allowing anyway.`);\r\n                    }\r\n                    processedUpdates.color = updates.color;\r\n                }\r\n\r\n                // Validate label if provided (lenient: warn but allow)\r\n                if (updates.label !== undefined) {\r\n                    if (!validateEntityLabel(updates.label)) {\r\n                        console.warn(`Invalid entity label: ${updates.label}. Allowing anyway.`);\r\n                    }\r\n                    processedUpdates.label = updates.label;\r\n                }\r\n\r\n                // Team update (TypeScript already validated)\r\n                if (updates.team !== undefined) {\r\n                    processedUpdates.team = updates.team;\r\n                }\r\n\r\n                // ParentId update (null clears parent, converts to undefined)\r\n                if (updates.parentId !== undefined) {\r\n                    processedUpdates.parentId = updates.parentId === null ? undefined : updates.parentId;\r\n                }\r\n\r\n                // Merge updates\r\n                const updatedEntity = { ...entity, ...processedUpdates };\r\n\r\n                // Update entities in current frame\r\n                const updatedEntities = {\r\n                    ...currentFrame.entities,\r\n                    [entityId]: updatedEntity,\r\n                };\r\n\r\n                // Return updated state\r\n                return {\r\n                    ...state,\r\n                    project: {\r\n                        ...state.project,\r\n                        updatedAt: new Date().toISOString(),\r\n                        frames: state.project.frames.map((frame, idx) =>\r\n                            idx === state.currentFrameIndex\r\n                                ? { ...frame, entities: updatedEntities }\r\n                                : frame\r\n                        ),\r\n                    },\r\n                    isDirty: true,\r\n                };\r\n            }),\r\n\r\n            removeEntity: (entityId: string) => set((state) => {\r\n                // Guard: Return if no project\r\n                if (!state.project) return state;\r\n\r\n                // Guard: Return if currentFrameIndex is out of bounds\r\n                if (state.currentFrameIndex < 0 || state.currentFrameIndex >= state.project.frames.length) {\r\n                    return state;\r\n                }\r\n\r\n                // Get current frame\r\n                const currentFrame = state.project.frames[state.currentFrameIndex];\r\n\r\n                // Guard: Return if entity doesn't exist\r\n                if (!currentFrame.entities[entityId]) return state;\r\n\r\n                // Remove entity from current frame (destructuring pattern)\r\n                const { [entityId]: removed, ...remainingEntities } = currentFrame.entities;\r\n\r\n                // Return updated state\r\n                return {\r\n                    ...state,\r\n                    project: {\r\n                        ...state.project,\r\n                        updatedAt: new Date().toISOString(),\r\n                        frames: state.project.frames.map((frame, idx) =>\r\n                            idx === state.currentFrameIndex\r\n                                ? { ...frame, entities: remainingEntities }\r\n                                : frame\r\n                        ),\r\n                    },\r\n                    isDirty: true,\r\n                };\r\n            }),\r\n\r\n            removeEntityGlobally: () => { },\r\n            propagateEntity: () => { },\r\n\r\n            addAnnotation: (annotation: AnnotationCreate) => {\r\n                let newAnnotationId = '';\r\n\r\n                set((state) => {\r\n                    // Guard: Return if no project\r\n                    if (!state.project) return state;\r\n\r\n                    // Guard: Return if currentFrameIndex is out of bounds\r\n                    if (state.currentFrameIndex < 0 || state.currentFrameIndex >= state.project.frames.length) {\r\n                        return state;\r\n                    }\r\n\r\n                    // Generate new annotation ID\r\n                    newAnnotationId = crypto.randomUUID();\r\n\r\n                    // Get current frame\r\n                    const currentFrame = state.project.frames[state.currentFrameIndex];\r\n\r\n                    // Create new annotation\r\n                    const newAnnotation = {\r\n                        id: newAnnotationId,\r\n                        type: annotation.type,\r\n                        points: annotation.points,\r\n                        color: annotation.color,\r\n                        startFrameId: currentFrame.id,\r\n                        endFrameId: currentFrame.id,\r\n                    };\r\n\r\n                    // Add annotation to current frame\r\n                    const updatedAnnotations = [...currentFrame.annotations, newAnnotation];\r\n\r\n                    // Return updated state\r\n                    return {\r\n                        ...state,\r\n                        project: {\r\n                            ...state.project,\r\n                            updatedAt: new Date().toISOString(),\r\n                            frames: state.project.frames.map((frame, idx) =>\r\n                                idx === state.currentFrameIndex\r\n                                    ? { ...frame, annotations: updatedAnnotations }\r\n                                    : frame\r\n                            ),\r\n                        },\r\n                        isDirty: true,\r\n                    };\r\n                });\r\n\r\n                return newAnnotationId;\r\n            },\r\n\r\n            updateAnnotation: (annotationId: string, updates: Partial<AnnotationUpdate>) => set((state) => {\r\n                // Guard: Return if no project\r\n                if (!state.project) return state;\r\n\r\n                // Guard: Return if currentFrameIndex is out of bounds\r\n                if (state.currentFrameIndex < 0 || state.currentFrameIndex >= state.project.frames.length) {\r\n                    return state;\r\n                }\r\n\r\n                // Get current frame\r\n                const currentFrame = state.project.frames[state.currentFrameIndex];\r\n\r\n                // Find annotation\r\n                const annotationIndex = currentFrame.annotations.findIndex(a => a.id === annotationId);\r\n                if (annotationIndex === -1) return state;\r\n\r\n                // Update annotation\r\n                const updatedAnnotations = currentFrame.annotations.map((annotation, idx) => {\r\n                    if (idx !== annotationIndex) return annotation;\r\n\r\n                    return {\r\n                        ...annotation,\r\n                        ...(updates.points !== undefined && { points: updates.points }),\r\n                        ...(updates.color !== undefined && { color: updates.color }),\r\n                        ...(updates.startFrameId !== undefined && { startFrameId: updates.startFrameId }),\r\n                        ...(updates.endFrameId !== undefined && { endFrameId: updates.endFrameId }),\r\n                    };\r\n                });\r\n\r\n                // Return updated state\r\n                return {\r\n                    ...state,\r\n                    project: {\r\n                        ...state.project,\r\n                        updatedAt: new Date().toISOString(),\r\n                        frames: state.project.frames.map((frame, idx) =>\r\n                            idx === state.currentFrameIndex\r\n                                ? { ...frame, annotations: updatedAnnotations }\r\n                                : frame\r\n                        ),\r\n                    },\r\n                    isDirty: true,\r\n                };\r\n            }),\r\n\r\n            removeAnnotation: (annotationId: string) => set((state) => {\r\n                // Guard: Return if no project\r\n                if (!state.project) return state;\r\n\r\n                // Guard: Return if currentFrameIndex is out of bounds\r\n                if (state.currentFrameIndex < 0 || state.currentFrameIndex >= state.project.frames.length) {\r\n                    return state;\r\n                }\r\n\r\n                // Get current frame\r\n                const currentFrame = state.project.frames[state.currentFrameIndex];\r\n\r\n                // Filter out the annotation\r\n                const updatedAnnotations = currentFrame.annotations.filter(a => a.id !== annotationId);\r\n\r\n                // Return updated state\r\n                return {\r\n                    ...state,\r\n                    project: {\r\n                        ...state.project,\r\n                        updatedAt: new Date().toISOString(),\r\n                        frames: state.project.frames.map((frame, idx) =>\r\n                            idx === state.currentFrameIndex\r\n                                ? { ...frame, annotations: updatedAnnotations }\r\n                                : frame\r\n                        ),\r\n                    },\r\n                    isDirty: true,\r\n                };\r\n            }),\r\n\r\n            play: () => set((state) => ({\r\n                ...state,\r\n                isPlaying: true,\r\n            })),\r\n\r\n            pause: () => set((state) => ({\r\n                ...state,\r\n                isPlaying: false,\r\n                playbackPosition: null,\r\n            })),\r\n\r\n            reset: () => set((state) => ({\r\n                ...state,\r\n                currentFrameIndex: 0,\r\n                isPlaying: false,\r\n                playbackPosition: null,\r\n            })),\r\n\r\n            setPlaybackSpeed: (speed: PlaybackSpeed) => set((state) => ({\r\n                ...state,\r\n                playbackSpeed: speed,\r\n            })),\r\n\r\n            toggleLoop: () => set((state) => ({\r\n                ...state,\r\n                loopPlayback: !state.loopPlayback,\r\n            })),\r\n\r\n            setPlaybackPosition: (position: PlaybackPosition) => set((state) => ({\r\n                ...state,\r\n                playbackPosition: position,\r\n            })),\r\n        }),\r\n        { name: 'ProjectStore' }\r\n    )\r\n);\r\n"],"names":["BailoutToCSR","reason","children","window","BailoutToCSRError","encodeURIPath","file","split","map","p","encodeURIComponent","join","getDeploymentId","getDeploymentIdQueryOrEmptyString","process","env","NEXT_DEPLOYMENT_ID","deploymentId","PreloadChunks","moduleIds","workStore","workAsyncStorage","getStore","undefined","allFiles","reactLoadableManifest","manifest","key","chunks","files","push","length","dplId","chunk","href","assetPrefix","isCss","endsWith","link","precedence","rel","as","nonce","preload","fetchPriority","convertModule","mod","hasDefault","default","defaultOptions","loader","Promise","resolve","loading","ssr","Loadable","options","opts","Lazy","lazy","then","Loading","LoadableComponent","props","fallbackElement","isLoading","pastDelay","error","hasSuspenseBoundary","Wrap","Suspense","Fragment","wrapProps","fallback","modules","displayName","dynamic","dynamicOptions","loadableOptions","mergedOptions","loadableGenerated"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,8,9,11,12,15,16]}