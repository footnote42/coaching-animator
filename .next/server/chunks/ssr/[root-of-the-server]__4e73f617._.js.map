{"version":3,"sources":["../../../../app/replay/%5Bid%5D/ReplayViewer.tsx/__nextjs-internal-proxy.mjs","../../../../app/replay/%5Bid%5D/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ReplayViewer = registerClientReference(\n    function() { throw new Error(\"Attempted to call ReplayViewer() from the server but ReplayViewer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/replay/[id]/ReplayViewer.tsx\",\n    \"ReplayViewer\",\n);\n","import { notFound } from 'next/navigation';\nimport { Metadata } from 'next';\nimport { createSupabaseServerClient } from '../../../lib/supabase/server';\nimport { ReplayViewer } from './ReplayViewer';\n\ninterface PageProps {\n  params: Promise<{ id: string }>;\n}\n\nexport async function generateMetadata({ params }: PageProps): Promise<Metadata> {\n  const { id } = await params;\n  const supabase = await createSupabaseServerClient();\n  \n  const { data: animation } = await supabase\n    .from('saved_animations')\n    .select('title, description, animation_type')\n    .eq('id', id)\n    .is('hidden_at', null)\n    .in('visibility', ['public', 'link_shared'])\n    .single();\n\n  if (!animation) {\n    return {\n      title: 'Animation Not Found',\n    };\n  }\n\n  return {\n    title: `${animation.title} | Coaching Animator`,\n    description: animation.description || `A ${animation.animation_type} animation created with Coaching Animator`,\n    openGraph: {\n      title: animation.title,\n      description: animation.description || `A ${animation.animation_type} animation`,\n      type: 'website',\n    },\n  };\n}\n\nexport default async function ReplayPage({ params }: PageProps) {\n  const { id } = await params;\n  const supabase = await createSupabaseServerClient();\n\n  const { data: animation, error } = await supabase\n    .from('saved_animations')\n    .select(`\n      id,\n      title,\n      description,\n      animation_type,\n      tags,\n      payload,\n      duration_ms,\n      frame_count,\n      visibility,\n      upvote_count,\n      view_count,\n      created_at,\n      user_id,\n      user_profiles!saved_animations_user_id_fkey (\n        display_name\n      )\n    `)\n    .eq('id', id)\n    .is('hidden_at', null)\n    .in('visibility', ['public', 'link_shared'])\n    .single();\n\n  if (error || !animation) {\n    notFound();\n  }\n\n  // Increment view count\n  await supabase\n    .from('saved_animations')\n    .update({ view_count: (animation.view_count || 0) + 1 })\n    .eq('id', id);\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <header className=\"border-b border-border bg-surface\">\n        <div className=\"max-w-5xl mx-auto px-4 py-4\">\n          <a href=\"/\" className=\"text-sm text-primary hover:underline mb-2 inline-block\">\n            ← Back to Coaching Animator\n          </a>\n          <h1 className=\"text-2xl font-heading font-bold text-text-primary\">\n            {animation.title}\n          </h1>\n          <div className=\"flex items-center gap-4 mt-2 text-sm text-text-primary/70\">\n            <span>By {(animation.user_profiles as unknown as { display_name: string | null } | null)?.display_name || 'Anonymous Coach'}</span>\n            <span>•</span>\n            <span className=\"capitalize\">{animation.animation_type}</span>\n            <span>•</span>\n            <span>{animation.frame_count} frames</span>\n            <span>•</span>\n            <span>{animation.upvote_count} upvotes</span>\n          </div>\n          {animation.description && (\n            <p className=\"mt-3 text-text-primary/80\">{animation.description}</p>\n          )}\n          {animation.tags && animation.tags.length > 0 && (\n            <div className=\"mt-3 flex flex-wrap gap-2\">\n              {animation.tags.map((tag: string) => (\n                <span\n                  key={tag}\n                  className=\"px-2 py-1 bg-primary/10 text-primary text-xs font-medium\"\n                >\n                  {tag}\n                </span>\n              ))}\n            </div>\n          )}\n        </div>\n      </header>\n\n      {/* Replay Viewer */}\n      <main className=\"max-w-5xl mx-auto px-4 py-8\">\n        <ReplayViewer payload={animation.payload} />\n      </main>\n\n      {/* Footer */}\n      <footer className=\"border-t border-border bg-surface-warm\">\n        <div className=\"max-w-5xl mx-auto px-4 py-6 text-center\">\n          <p className=\"text-sm text-text-primary/70\">\n            Created with{' '}\n            <a href=\"/\" className=\"text-primary hover:underline\">\n              Coaching Animator\n            </a>\n          </p>\n          <p className=\"mt-2\">\n            <a\n              href=\"/app\"\n              className=\"inline-flex items-center gap-2 px-4 py-2 bg-primary text-text-inverse font-medium hover:bg-primary/90 transition-colors\"\n            >\n              Create Your Own Animation\n            </a>\n          </p>\n        </div>\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":"iWAEO,IAAM,EAAe,CAAA,EAAA,AAD5B,EAAA,CAAA,CAAA,OAC4B,uBAAA,AAAuB,EAC/C,WAAa,MAAM,AAAI,MAAM,sOAAwO,EACrQ,iEACA,oEAHG,IAAM,EAAe,CAAA,EAAA,AAD5B,EAAA,CAAA,CAAA,OAC4B,uBAAA,AAAuB,EAC/C,WAAa,MAAM,AAAI,MAAM,sOAAwO,EACrQ,6CACA,mHCLJ,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAMO,eAAe,EAAiB,QAAE,CAAM,CAAa,EAC1D,GAAM,IAAE,CAAE,CAAE,CAAG,MAAM,EACf,EAAW,MAAM,CAAA,EAAA,EAAA,0BAA0B,AAA1B,IAEjB,CAAE,KAAM,CAAS,CAAE,CAAG,MAAM,EAC/B,IAAI,CAAC,oBACL,MAAM,CAAC,sCACP,EAAE,CAAC,KAAM,GACT,EAAE,CAAC,YAAa,MAChB,EAAE,CAAC,aAAc,CAAC,SAAU,cAAc,EAC1C,MAAM,UAET,AAAK,EAME,CACL,CAPE,KAOK,CAAA,CAPO,CAOJ,EAAU,KAAK,CAAC,oBAAoB,CAAC,CAC/C,YAAa,EAAU,WAAW,EAAI,CAAC,EAAE,EAAE,EAAU,cAAc,CAAC,yCAAyC,CAAC,CAC9G,UAAW,CACT,MAAO,EAAU,KAAK,CACtB,YAAa,EAAU,WAAW,EAAI,CAAC,EAAE,EAAE,EAAU,cAAc,CAAC,UAAU,CAAC,CAC/E,KAAM,SACR,CACF,EAbS,CACL,MAAO,qBACT,CAYJ,CAEe,eAAe,EAAW,QAAE,CAAM,CAAa,EAC5D,GAAM,IAAE,CAAE,CAAE,CAAG,MAAM,EACf,EAAW,MAAM,CAAA,EAAA,EAAA,0BAAA,AAA0B,IAE3C,CAAE,KAAM,CAAS,OAAE,CAAK,CAAE,CAAG,MAAM,EACtC,IAAI,CAAC,oBACL,MAAM,CAAC,CAAC;;;;;;;;;;;;;;;;;IAiBT,CAAC,EACA,EAAE,CAAC,KAAM,GACT,EAAE,CAAC,YAAa,MAChB,EAAE,CAAC,aAAc,CAAC,SAAU,cAAc,EAC1C,MAAM,GAYT,OAVI,GAAS,CAAC,CAAA,GACZ,AADuB,AACvB,CAAA,EAAA,EAAA,QAAA,AAAQ,IAIV,MAAM,EACH,IAAI,CAAC,oBACL,MAAM,CAAC,CAAE,WAAY,CAAC,EAAU,UAAU,GAAI,CAAC,CAAI,CAAE,GACrD,EAAE,CAAC,KAAM,GAGV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCAEb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,6CAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAK,IAAI,UAAU,kEAAyD,gCAG/E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6DACX,EAAU,KAAK,GAElB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sEACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,MAAK,EAAU,aAAa,EAAwD,cAAgB,qBAC1G,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,MACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sBAAc,EAAU,cAAc,GACtD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,MACN,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAM,EAAU,WAAW,CAAC,aAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,MACN,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAM,EAAU,YAAY,CAAC,iBAE/B,EAAU,WAAW,EACpB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,EAAU,WAAW,GAEhE,EAAU,IAAI,EAAI,EAAU,IAAI,CAAC,MAAM,CAAG,GACzC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCACZ,EAAU,IAAI,CAAC,GAAG,CAAC,AAAC,GACnB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAEC,UAAU,oEAET,GAHI,WAYjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uCACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,QAAS,EAAU,OAAO,KAI1C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,kDAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,yCAA+B,eAC7B,IACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAK,IAAI,UAAU,wCAA+B,yBAIvD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gBACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KAAK,OACL,UAAU,mIACX,uCAQb","ignoreList":[0]}