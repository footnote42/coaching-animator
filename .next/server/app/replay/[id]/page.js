(()=>{var e={};e.id=541,e.ids=[541],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},377:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(9273),r(1506),r(5866);var a=r(3191),s=r(8716),i=r(7922),n=r.n(i),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["replay",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9273)),"C:\\Coding Projects\\coaching-animator\\app\\replay\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"C:\\Coding Projects\\coaching-animator\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Coding Projects\\coaching-animator\\app\\replay\\[id]\\page.tsx"],p="/replay/[id]/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/replay/[id]/page",pathname:"/replay/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4868:(e,t,r)=>{Promise.resolve().then(r.bind(r,1109))},1109:(e,t,r)=>{"use strict";r.d(t,{ReplayViewer:()=>c});var a=r(326),s=r(7577),i=r(4689),n=r(1890),l=r(1059),o=r(4893),d=r(9183);function c({payload:e}){let[t,r]=(0,s.useState)(0),[c,p]=(0,s.useState)(!1),m=e?.frames||[],x=m[t],h=(0,s.useCallback)(()=>{r(e=>e>=m.length-1?(p(!1),e):e+1)},[m.length]),u=(0,s.useCallback)(()=>{r(e=>Math.max(0,e-1))},[]),b=(0,s.useCallback)(()=>{r(0),p(!1)},[]),g=(0,s.useCallback)(()=>{t>=m.length-1&&r(0),p(e=>!e)},[t,m.length]);if(!m.length)return a.jsx("div",{className:"text-center py-20 text-text-primary/70",children:"No frames to display"});let y=x?Object.values(x.entities||{}):[],f=x?.annotations||[];return(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsxs)("div",{className:"relative w-full max-w-[800px] aspect-[4/3] bg-green-700 border border-border overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-white/30"}),a.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-white/30"})]}),(0,a.jsxs)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:[f.map(e=>{if(e.points.length<4)return null;let t=e.points.reduce((t,r,a)=>{let s=r/800*100,i=e.points[a+1]/600*100;return a%2==0?t+(0===a?`M ${s}% ${i}%`:` L ${s}% ${i}%`):t},"");return a.jsx("path",{d:t,stroke:e.color,strokeWidth:"2",fill:"none",markerEnd:"arrow"===e.type?"url(#arrowhead)":void 0},e.id)}),a.jsx("defs",{children:a.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:a.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#FFA500"})})})]}),y.map(e=>{let t=e.x/800*100,r=e.y/600*100;return(0,a.jsxs)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 transition-all duration-300",style:{left:`${t}%`,top:`${r}%`},children:["player"===e.type&&a.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white flex items-center justify-center text-xs font-bold text-white shadow-md",style:{backgroundColor:e.color},children:e.label||""}),"ball"===e.type&&a.jsx("div",{className:"w-5 h-5 rounded-full shadow-md",style:{backgroundColor:e.color}}),"cone"===e.type&&a.jsx("div",{className:"w-0 h-0 border-l-[8px] border-r-[8px] border-b-[16px] border-l-transparent border-r-transparent",style:{borderBottomColor:e.color}}),"marker"===e.type&&a.jsx("div",{className:"w-4 h-4 rotate-45",style:{backgroundColor:e.color}})]},e.id)})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[a.jsx("button",{onClick:b,className:"p-2 border border-border hover:bg-surface-warm transition-colors",title:"Reset",children:a.jsx(i.Z,{className:"w-5 h-5"})}),a.jsx("button",{onClick:u,disabled:0===t,className:"p-2 border border-border hover:bg-surface-warm transition-colors disabled:opacity-50",title:"Previous frame",children:a.jsx(n.Z,{className:"w-5 h-5"})}),a.jsx("button",{onClick:g,className:"p-3 bg-primary text-text-inverse hover:bg-primary/90 transition-colors",title:c?"Pause":"Play",children:c?a.jsx(l.Z,{className:"w-6 h-6"}):a.jsx(o.Z,{className:"w-6 h-6"})}),a.jsx("button",{onClick:h,disabled:t>=m.length-1,className:"p-2 border border-border hover:bg-surface-warm transition-colors disabled:opacity-50",title:"Next frame",children:a.jsx(d.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("span",{className:"text-sm text-text-primary/70 ml-2",children:["Frame ",t+1," / ",m.length]})]}),a.jsx("div",{className:"mt-4 flex gap-1 overflow-x-auto pb-2 max-w-full",children:m.map((e,s)=>a.jsx("button",{onClick:()=>{r(s),p(!1)},className:`w-8 h-8 flex-shrink-0 border transition-colors ${s===t?"bg-primary text-text-inverse border-primary":"bg-surface border-border hover:border-primary"}`,children:s+1},s))})]})}},9273:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,generateMetadata:()=>l});var a=r(9510),s=r(8585),i=r(9692);let n=(0,r(8570).createProxy)(String.raw`C:\Coding Projects\coaching-animator\app\replay\[id]\ReplayViewer.tsx#ReplayViewer`);async function l({params:e}){let{id:t}=await e,r=await (0,i.j)(),{data:a}=await r.from("saved_animations").select("title, description, animation_type").eq("id",t).is("hidden_at",null).in("visibility",["public","link_shared"]).single();return a?{title:`${a.title} | Coaching Animator`,description:a.description||`A ${a.animation_type} animation created with Coaching Animator`,openGraph:{title:a.title,description:a.description||`A ${a.animation_type} animation`,type:"website"}}:{title:"Animation Not Found"}}async function o({params:e}){let{id:t}=await e,r=await (0,i.j)(),{data:l,error:o}=await r.from("saved_animations").select(`
      id,
      title,
      description,
      animation_type,
      tags,
      payload,
      duration_ms,
      frame_count,
      visibility,
      upvote_count,
      view_count,
      created_at,
      user_id
    `).eq("id",t).is("hidden_at",null).in("visibility",["public","link_shared"]).single(),d=null;if(l?.user_id){let{data:e}=await r.from("user_profiles").select("display_name").eq("id",l.user_id).single();d=e?.display_name??null}return(o||!l)&&(0,s.notFound)(),await r.from("saved_animations").update({view_count:(l.view_count||0)+1}).eq("id",t),(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b border-border bg-surface",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-4",children:[a.jsx("a",{href:"/",className:"text-sm text-primary hover:underline mb-2 inline-block",children:"← Back to Coaching Animator"}),a.jsx("h1",{className:"text-2xl font-heading font-bold text-text-primary",children:l.title}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-text-primary/70",children:[(0,a.jsxs)("span",{children:["By ",d||"Anonymous Coach"]}),a.jsx("span",{children:"•"}),a.jsx("span",{className:"capitalize",children:l.animation_type}),a.jsx("span",{children:"•"}),(0,a.jsxs)("span",{children:[l.frame_count," frames"]}),a.jsx("span",{children:"•"}),(0,a.jsxs)("span",{children:[l.upvote_count," upvotes"]})]}),l.description&&a.jsx("p",{className:"mt-3 text-text-primary/80",children:l.description}),l.tags&&l.tags.length>0&&a.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:l.tags.map(e=>a.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs font-medium",children:e},e))})]})}),a.jsx("main",{className:"max-w-5xl mx-auto px-4 py-8",children:a.jsx(n,{payload:l.payload})}),a.jsx("footer",{className:"border-t border-border bg-surface-warm",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-6 text-center",children:[(0,a.jsxs)("p",{className:"text-sm text-text-primary/70",children:["Created with"," ",a.jsx("a",{href:"/",className:"text-primary hover:underline",children:"Coaching Animator"})]}),a.jsx("p",{className:"mt-2",children:a.jsx("a",{href:"/app",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-text-inverse font-medium hover:bg-primary/90 transition-colors",children:"Create Your Own Animation"})})]})})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,471,637,547],()=>r(377));module.exports=a})();