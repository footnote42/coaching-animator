(()=>{var e={};e.id=3,e.ids=[3],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1134:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>l}),a(8748),a(1506),a(5866);var r=a(3191),s=a(8716),i=a(7922),n=a.n(i),d=a(5231),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);a.d(t,o);let l=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8748)),"C:\\Coding Projects\\coaching-animator\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1506)),"C:\\Coding Projects\\coaching-animator\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Coding Projects\\coaching-animator\\app\\admin\\page.tsx"],m="/admin/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},6434:(e,t,a)=>{Promise.resolve().then(a.bind(a,8381))},2005:()=>{},7528:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},8381:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var r=a(326),s=a(7577),i=a(5047);function n(){(0,i.useRouter)();let[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(0),[d,o]=(0,s.useState)(!0),[l,c]=(0,s.useState)(null),[m,x]=(0,s.useState)("pending"),[u,p]=(0,s.useState)(null),[h,g]=(0,s.useState)(""),[b,y]=(0,s.useState)(null),f=async(e,a,r)=>{if(["hide","warn_user","ban_user"].includes(a)&&!r){y({reportId:e,action:a});return}p(e),c(null);try{let s=await fetch(`/api/admin/reports/${e}/action`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:a,reason:r})}),i=await s.json();if(!s.ok)throw Error(i.error?.message||"Action failed");t(t=>t.filter(t=>t.id!==e)),n(e=>e-1),y(null),g("")}catch(e){c(e instanceof Error?e.message:"Action failed")}finally{p(null)}},j=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),v=e=>{switch(e){case"inappropriate":return"bg-red-100 text-red-800";case"spam":return"bg-yellow-100 text-yellow-800";case"copyright":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),r.jsx("a",{href:"/app",className:"text-sm text-emerald-600 hover:text-emerald-700",children:"← Back to App"})]})})}),r.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Content Reports (",a,")"]}),r.jsx("div",{className:"flex gap-2",children:["pending","reviewed","dismissed"].map(e=>r.jsx("button",{onClick:()=>x(e),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${m===e?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})}),l&&r.jsx("div",{className:"px-6 py-4 bg-red-50 border-b border-red-100",children:r.jsx("p",{className:"text-sm text-red-600",children:l})}),d?(0,r.jsxs)("div",{className:"px-6 py-12 text-center",children:[r.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-emerald-600 border-t-transparent rounded-full mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-500",children:"Loading reports..."})]}):0===e.length?r.jsx("div",{className:"px-6 py-12 text-center",children:(0,r.jsxs)("p",{className:"text-gray-500",children:["No ",m," reports found."]})}):r.jsx("div",{className:"divide-y divide-gray-200",children:e.map(e=>r.jsx("div",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${v(e.reason)}`,children:e.reason}),r.jsx("span",{className:"text-xs text-gray-500",children:j(e.created_at)})]}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:e.animation?.title||"Deleted Animation"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["by ",e.animation?.author_display_name||"Anonymous"]})]}),e.details&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 bg-gray-50 rounded p-2 mb-2",children:['"',e.details,'"']}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["Reported by: ",e.reporter?.display_name||"Anonymous User"]}),e.animation?.id&&r.jsx("a",{href:`/gallery/${e.animation.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-emerald-600 hover:text-emerald-700 mt-1 inline-block",children:"View Animation →"})]}),"pending"===m&&(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[r.jsx("button",{onClick:()=>f(e.id,"dismiss"),disabled:u===e.id,className:"px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 rounded hover:bg-gray-200 disabled:opacity-50",children:"Dismiss"}),r.jsx("button",{onClick:()=>f(e.id,"hide"),disabled:u===e.id,className:"px-3 py-1.5 text-xs font-medium text-amber-700 bg-amber-100 rounded hover:bg-amber-200 disabled:opacity-50",children:"Hide"}),r.jsx("button",{onClick:()=>f(e.id,"delete"),disabled:u===e.id,className:"px-3 py-1.5 text-xs font-medium text-red-700 bg-red-100 rounded hover:bg-red-200 disabled:opacity-50",children:"Delete"}),r.jsx("button",{onClick:()=>f(e.id,"warn_user"),disabled:u===e.id,className:"px-3 py-1.5 text-xs font-medium text-orange-700 bg-orange-100 rounded hover:bg-orange-200 disabled:opacity-50",children:"Warn User"}),r.jsx("button",{onClick:()=>f(e.id,"ban_user"),disabled:u===e.id,className:"px-3 py-1.5 text-xs font-medium text-white bg-red-600 rounded hover:bg-red-700 disabled:opacity-50",children:"Ban User"})]})]})},e.id))})]})}),b&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["hide"===b.action&&"Hide Animation","warn_user"===b.action&&"Warn User","ban_user"===b.action&&"Ban User"]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please provide a reason for this action. This will be recorded for audit purposes."}),r.jsx("textarea",{value:h,onChange:e=>g(e.target.value),placeholder:"Enter reason...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 resize-none",rows:3}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[r.jsx("button",{onClick:()=>{y(null),g("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:()=>f(b.reportId,b.action,h),disabled:!h.trim()||u===b.reportId,className:"px-4 py-2 text-sm font-medium text-white bg-emerald-600 rounded-lg hover:bg-emerald-700 disabled:opacity-50",children:u===b.reportId?"Processing...":"Confirm"})]})]})})]})}a(2945)},2945:(e,t,a)=>{"use strict";a.d(t,{W:()=>s});var r=a(861);function s(){return(0,r.createBrowserClient)("https://qwivksrxdvrcvuwzmbvr.supabase.co","sb_publishable_J07j1EdYOeUC_tbpoC7AQQ_cjGoXWdP")}},5047:(e,t,a)=>{"use strict";var r=a(7389);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},8748:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(8570).createProxy)(String.raw`C:\Coding Projects\coaching-animator\app\admin\page.tsx#default`)},1506:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n,metadata:()=>s,viewport:()=>i});var r=a(9510);a(7272);let s={title:{default:"Coaching Animator - Rugby Play Visualization",template:"%s | Coaching Animator"},description:"Create and share animated rugby plays. Visualize tactics, demonstrate formations, and share with your team.",keywords:["rugby","coaching","animation","plays","tactics","visualization"],authors:[{name:"Coaching Animator"}],creator:"Coaching Animator",metadataBase:new URL(process.env.NEXT_PUBLIC_APP_URL||"http://localhost:3000"),openGraph:{type:"website",locale:"en_US",siteName:"Coaching Animator",title:"Coaching Animator - Rugby Play Visualization",description:"Create and share animated rugby plays. Visualize tactics, demonstrate formations, and share with your team."},twitter:{card:"summary_large_image",title:"Coaching Animator",description:"Create and share animated rugby plays"},robots:{index:!0,follow:!0}},i={themeColor:"#1A3D1A",width:"device-width",initialScale:1,maximumScale:5};function n({children:e}){return(0,r.jsxs)("html",{lang:"en",children:[(0,r.jsxs)("head",{children:[r.jsx("link",{rel:"manifest",href:"/manifest.json"}),r.jsx("link",{rel:"icon",href:"/favicon.ico",sizes:"any"}),r.jsx("link",{rel:"apple-touch-icon",href:"/apple-touch-icon.png"})]}),r.jsx("body",{className:"min-h-screen bg-background antialiased",children:e})]})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,471,861],()=>a(1134));module.exports=r})();