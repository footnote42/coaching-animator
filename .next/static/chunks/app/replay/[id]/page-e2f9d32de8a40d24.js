(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[541],{457:function(e,t,r){Promise.resolve().then(r.bind(r,2592))},2592:function(e,t,r){"use strict";r.d(t,{ReplayViewer:function(){return d}});var a=r(7437),s=r(2265),l=r(9076),o=r(2451),n=r(9227),i=r(3276),c=r(407);function d(e){let{payload:t}=e,[r,d]=(0,s.useState)(0),[u,h]=(0,s.useState)(!1),m=(null==t?void 0:t.frames)||[],f=m[r],p=(0,s.useCallback)(()=>{d(e=>e>=m.length-1?(h(!1),e):e+1)},[m.length]),x=(0,s.useCallback)(()=>{d(e=>Math.max(0,e-1))},[]),b=(0,s.useCallback)(()=>{d(0),h(!1)},[]),w=(0,s.useCallback)(()=>{r>=m.length-1&&d(0),h(e=>!e)},[r,m.length]);if((0,s.useEffect)(()=>{if(!u||!f)return;let e=setTimeout(p,f.duration||1e3);return()=>clearTimeout(e)},[u,f,p]),!m.length)return(0,a.jsx)("div",{className:"text-center py-20 text-text-primary/70",children:"No frames to display"});let v=f?Object.values(f.entities||{}):[],y=(null==f?void 0:f.annotations)||[];return(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsxs)("div",{className:"relative w-full max-w-[800px] aspect-[4/3] bg-green-700 border border-border overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-white/30"}),(0,a.jsx)("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-white/30"})]}),(0,a.jsxs)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:[y.map(e=>{if(e.points.length<4)return null;let t=e.points.reduce((t,r,a)=>{let s=r/800*100,l=e.points[a+1]/600*100;return a%2==0?t+(0===a?"M ".concat(s,"% ").concat(l,"%"):" L ".concat(s,"% ").concat(l,"%")):t},"");return(0,a.jsx)("path",{d:t,stroke:e.color,strokeWidth:"2",fill:"none",markerEnd:"arrow"===e.type?"url(#arrowhead)":void 0},e.id)}),(0,a.jsx)("defs",{children:(0,a.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:(0,a.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#FFA500"})})})]}),v.map(e=>{let t=e.x/800*100,r=e.y/600*100;return(0,a.jsxs)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 transition-all duration-300",style:{left:"".concat(t,"%"),top:"".concat(r,"%")},children:["player"===e.type&&(0,a.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white flex items-center justify-center text-xs font-bold text-white shadow-md",style:{backgroundColor:e.color},children:e.label||""}),"ball"===e.type&&(0,a.jsx)("div",{className:"w-5 h-5 rounded-full shadow-md",style:{backgroundColor:e.color}}),"cone"===e.type&&(0,a.jsx)("div",{className:"w-0 h-0 border-l-[8px] border-r-[8px] border-b-[16px] border-l-transparent border-r-transparent",style:{borderBottomColor:e.color}}),"marker"===e.type&&(0,a.jsx)("div",{className:"w-4 h-4 rotate-45",style:{backgroundColor:e.color}})]},e.id)})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:b,className:"p-2 border border-border hover:bg-surface-warm transition-colors",title:"Reset",children:(0,a.jsx)(l.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:x,disabled:0===r,className:"p-2 border border-border hover:bg-surface-warm transition-colors disabled:opacity-50",title:"Previous frame",children:(0,a.jsx)(o.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:w,className:"p-3 bg-primary text-text-inverse hover:bg-primary/90 transition-colors",title:u?"Pause":"Play",children:u?(0,a.jsx)(n.Z,{className:"w-6 h-6"}):(0,a.jsx)(i.Z,{className:"w-6 h-6"})}),(0,a.jsx)("button",{onClick:p,disabled:r>=m.length-1,className:"p-2 border border-border hover:bg-surface-warm transition-colors disabled:opacity-50",title:"Next frame",children:(0,a.jsx)(c.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("span",{className:"text-sm text-text-primary/70 ml-2",children:["Frame ",r+1," / ",m.length]})]}),(0,a.jsx)("div",{className:"mt-4 flex gap-1 overflow-x-auto pb-2 max-w-full",children:m.map((e,t)=>(0,a.jsx)("button",{onClick:()=>{d(t),h(!1)},className:"w-8 h-8 flex-shrink-0 border transition-colors ".concat(t===r?"bg-primary text-text-inverse border-primary":"bg-surface border-border hover:border-primary"),children:t+1},t))})]})}},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var a=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:d="",children:u,iconNode:h,...m}=e;return(0,a.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:r,strokeWidth:o?24*Number(l)/Number(s):l,className:n("lucide",d),...!u&&!i(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:i,...c}=r;return(0,a.createElement)(d,{ref:l,iconNode:t,className:n("lucide-".concat(s(o(e))),"lucide-".concat(e),i),...c})});return r.displayName=o(e),r}},2451:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},407:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},9227:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]])},3276:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},9076:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])}},function(e){e.O(0,[971,734,744],function(){return e(e.s=457)}),_N_E=e.O()}]);